"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5424],{75424:function(n,e,o){o.r(e),o.d(e,{default:function(){return k}});var t=o(72253),i=o(14932),l=o(91309),r=o(85893),s=o(67294),u=o(25617),a=o(61935),c=o(58673),d=o(226),p=o(98507),v=o(82729),m=o(94589);function _templateObject(){var n=(0,v._)(["\n  from {\n    transform: scale(1);\n  }\n  to {\n    transform: scale(1.1);\n  }\n}"]);return _templateObject=function(){return n},n}function _templateObject1(){var n=(0,v._)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 20;\n  pointer-events: auto;\n  transition: all 1s ease-out;\n  opacity: 1;\n  &.inactive {\n    pointer-events: none;\n    transform: scale(1.1);\n    opacity: 0;\n    z-index: -1;\n    img,\n    video {\n    }\n    .overlayClose {\n      display: none;\n    }\n  }\n\n  img,\n  video {\n    background-color: #000;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    /* pointer-events: none; */\n  }\n\n  img {\n    animation: "," 2s forwards;\n  }\n\n  .--mobile {\n    display: none;\n  }\n\n  @media (max-width: 640px) {\n    .--mobile {\n      display: block;\n    }\n    .--pc {\n      display: none;\n    }\n  }\n\n  .overlayClose {\n    position: absolute;\n    bottom: 1.5rem;\n    left: 0;\n    right: 0;\n    margin: auto;\n    width: max-content;\n    z-index: 10;\n    .close {\n      padding: 4px 32px;\n      border: 2px solid transparent;\n      color: rgba(255, 255, 255, 0.75);\n      font-weight: 600;\n      font-size: 1rem;\n      text-align: center;\n      transition: all 0.15s ease-out;\n      cursor: pointer;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(20px);\n      @media (hover: hover) and (pointer: fine) {\n        &:hover {\n          /* background: rgba(255, 255, 255, 0.1); */\n          color: #fff;\n        }\n      }\n    }\n  }\n"]);return _templateObject1=function(){return n},n}var f=(0,m.F4)(_templateObject()),b=m.ZP.div.withConfig({displayName:"styled__PopupIntroWrapper",componentId:"Panoee__sc-e596451b-0"})(_templateObject1(),f),h=o(5152),g=o.n(h),y=o(1214),x=void 0,j=g()(function(){return o.e(2913).then(o.bind(o,92913))},{loadableGenerated:{webpack:function(){return[92913]}}}),k=(0,s.memo)(function(){var n=(0,u.I0)(),e=(0,s.useRef)(!1),o=(0,s.useRef)(null),v=(0,p.h)().checkDevice,m=(0,u.v9)(a.us),f=(0,u.v9)(a.Aq),h=(0,l._)((0,s.useState)(!1),2),g=h[0],k=h[1],_=(0,l._)((0,s.useState)(!1),2),P=_[0],C=_[1],I=(0,d.Q)({krpanoRef:null}),w=I.onSetSoundOnScene,D=I.isShowIconInfoPlace,N=I.onShowInfoPlace,E=I.onCloseDialogPostProject,V=(0,l._)((0,c.gU)("state"),2),M=V[0],O=V[1],S=(0,s.useCallback)(function(){var n;null==o||null===(n=o.current)||void 0===n||n.play(),C(!1)},[]),z=(0,s.useCallback)(function(){o.current&&(o.current.muted=!1,o.current.volume=1),k(!0),S()},[S]),F=(0,s.useCallback)(function(){var e;(null==o?void 0:o.current)&&(null==o||null===(e=o.current)||void 0===e||e.pause()),(null==f?void 0:f.type)==="post"&&E(),O(function(n){return(0,i._)((0,t._)({},n),{isVisiblePopupIntro:!1})}),(void 0===m.on||null===m.on)&&g&&(w(!0),n(y.Nw.setConfigSoundProject({on:!0})))},[n,m,g,f,w,O,E]);return(0,s.useEffect)(function(){if(void 0===M.isVisiblePopupIntro){var n=((null==f?void 0:f.type)==="image"&&(null==f?void 0:f.imageDesktop)||(null==f?void 0:f.type)==="video"&&(null==f?void 0:f.videoDesktop)||(null==f?void 0:f.type)==="post"&&D)&&!!(null==f?void 0:f.isEnabled);O(function(e){return(0,i._)((0,t._)({},e),{isVisiblePopupIntro:n})})}else M.isVisiblePopupIntro&&((null==f?void 0:f.type)==="post"&&(N(),e.current=!0),(null==f?void 0:f.type)==="video"&&o.current&&(m.on&&!f.mute?z():void 0!==m.on&&null!==m.on||f.mute?(o.current.muted=!0,o.current.autoplay=!0):C(!0)))},[M.isVisiblePopupIntro]),(0,s.useEffect)(function(){M.isVisiblePopupIntro&&(null==f?void 0:f.isAutoClose)&&(null==f?void 0:f.type)!=="post"&&setTimeout(function(){F()},1e3*+(null==f?void 0:f.timeAutoClose))},[M.isVisiblePopupIntro,f]),(0,s.useEffect)(function(){(null==f?void 0:f.type)==="post"&&e.current&&!M.visibleDialogPostProject&&void 0!==M.isVisiblePopupIntro&&F()},[M.visibleDialogPostProject]),(null==f?void 0:f.type)!=="post"?(0,r.jsxs)(b,{className:!1!==M.isVisiblePopupIntro?"":"inactive",children:[f&&(null==f?void 0:f.isEnabled)&&(0,r.jsxs)(r.Fragment,{children:[(null==f?void 0:f.type)==="image"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:null==f?void 0:f.imageDesktop,alt:"",className:"--pc"}),(0,r.jsx)("img",{src:(null==f?void 0:f.imageMobile)||(null==f?void 0:f.imageDesktop),alt:"",className:"--mobile"})]}),(null==f?void 0:f.type)==="video"&&(0,r.jsx)(r.Fragment,{children:v().isMobile()?(0,r.jsx)("video",{muted:!0,playsInline:!0,ref:o,onEnded:F,className:"--mobile",autoPlay:!!f.mute,children:(0,r.jsx)("source",{src:((null==f?void 0:f.videoMobile)||(null==f?void 0:f.videoDesktop))+"#t=0.001",type:"video/mp4"})}):(0,r.jsx)("video",{muted:!0,playsInline:!0,ref:o,onEnded:F,children:(0,r.jsx)("source",{src:null==f?void 0:f.videoDesktop,type:"video/mp4"})})}),(0,r.jsx)("div",{className:"overlayClose",children:(0,r.jsx)("div",{onClick:F,className:"close",children:(null==f?void 0:f.textClose)||"Close"})})]}),P&&(0,r.jsx)(j,{visible:P,onOK:z,onCancel:S.bind(x,!1)})]}):null})},98507:function(n,e,o){o.d(e,{h:function(){return useMobileDetect}});var t=o(67294),useMobileDetect=function(){var n=(0,t.useCallback)(function(){var n=window.matchMedia("only screen and (max-width: 760px)").matches;return{isMobile:function(){return n}}},[]);return(0,t.useMemo)(function(){return{checkDevice:n}},[n])}}}]);
//# sourceMappingURL=5424.a2822a16b1300198.js.map
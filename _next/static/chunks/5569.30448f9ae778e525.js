"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5569],{55569:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var o=t(91309),a=t(85893),u=t(72253),i=t(14932),r=t(97616),s=t(67294),l=t(25617),c=t(61935),f=t(226),v=t(58673),useEventKrpano=function(e){var n=e.krpanoRef,t=(0,f.Q)({krpanoRef:n}),a=t.onUp,d=t.onDown,C=t.onLeft,k=t.onRight,b=t.onStopHorizontal,g=t.onStopVertical,h=(0,o._)((0,v.tf)("stats"),2)[1],E=(0,l.v9)(c.dm),m=(0,l.v9)(c.iV),p=(0,o._)((0,s.useState)(!1),2),y=p[0],S=p[1],L=(0,o._)((0,s.useState)(void 0),2),A=L[0],R=L[1],w=(0,s.useMemo)(function(){return m.enabled},[m.enabled]),M=(0,s.useMemo)(function(){return m.on},[m.on]),_=(0,s.useMemo)(function(){return m.waitTime},[m]),T=(0,s.useMemo)(function(){return E.enabled},[E]),K=(0,s.useMemo)(function(){return E.on},[E]),P=(0,s.useCallback)(function(){S(!0),R(+(_||3)+ +r.$y)},[_]),B=(0,s.useCallback)(function(){var e;null==n||n.getContainer().addEventListener("mousedown",P),null==n||null===(e=n.getContainer())||void 0===e||e.addEventListener("touchstart",P)},[n,P]),V=(0,s.useCallback)(function(){var e,t;null==n||null===(e=n.getContainer())||void 0===e||e.removeEventListener("mousedown",P),null==n||null===(t=n.getContainer())||void 0===t||t.removeEventListener("touchstart",P)},[n,P]),D=(0,s.useCallback)(function(e){switch(e.keyCode){case 37:case 39:b();break;case 38:case 40:g()}},[b,g]),G=(0,s.useCallback)(function(e){switch(e.keyCode){case 37:C();break;case 38:a();break;case 39:k();break;case 40:d()}},[d,C,k,a]),I=(0,s.useCallback)(function(){var e,t;null==n||null===(e=n.getContainer())||void 0===e||e.addEventListener("keyup",D),null==n||null===(t=n.getContainer())||void 0===t||t.addEventListener("keydown",G)},[n,G,D]),N=(0,s.useCallback)(function(){var e,t;null==n||null===(e=n.getContainer())||void 0===e||e.removeEventListener("keyup",D),null==n||null===(t=n.getContainer())||void 0===t||t.removeEventListener("keydown",G)},[n,G,D]),x=(0,s.useCallback)(function(){var e=null==n?void 0:n.get("plugin[gyroscope].isavailable");"boolean"==typeof e&&h(function(n){return(0,i._)((0,u._)({},n),{isGyroscopeAvailable:e})})},[n,h]);return(0,s.useMemo)(function(){return{isAutoChangeScene:M,timeChangeScene:_,enableAutoChangeScene:w,isTurnOnAutoRotate:K,enabledAutoRotate:T,timePauseChangeScene:A,setTimePauseChangeScene:R,isTemporaryPauseAutoChangeScene:y,setIsTemporaryPauseAutoChangeScene:S,onEventMoveByKeyCode:I,offEventMoveByKeyCode:N,onEventAutoChangeScene:B,offEventAutoChangeScene:V,onEventCheckGyroscopeAvailable:x}},[M,_,w,K,T,A,y,I,N,B,V,x])},d=(0,s.memo)(function(e){var n=e.onNextScene,t=e.krpanoRef,u=(0,s.useRef)(null),i=(0,o._)((0,v.gU)("state"),1)[0],r=useEventKrpano({krpanoRef:t}),l=r.timeChangeScene,c=r.isAutoChangeScene,d=r.isTurnOnAutoRotate,C=r.enabledAutoRotate,k=r.timePauseChangeScene,b=r.setTimePauseChangeScene,g=r.onEventMoveByKeyCode,h=r.offEventMoveByKeyCode,E=r.onEventCheckGyroscopeAvailable,m=(0,f.Q)({krpanoRef:t}).onStartRotate;return(0,s.useEffect)(function(){b(l)},[l]),(0,s.useEffect)(function(){C&&d&&i.isLoaded&&m()},[C,i.isLoaded,d]),(0,s.useEffect)(function(){return!(null==i?void 0:i.isVisibleDollhouse)&&i.isLoaded&&c&&l&&(u.current=setInterval(function(){n(),b(l)},1e3*(k||l))),function(){u.current&&clearInterval(u.current)}},[c,i.isLoaded,i.isVisibleDollhouse]),(0,s.useEffect)(function(){return g(),function(){h()}},[]),(0,s.useEffect)(function(){i.isLoaded&&E()},[i.isLoaded]),(0,a.jsx)("div",{})})}}]);
//# sourceMappingURL=5569.30448f9ae778e525.js.map
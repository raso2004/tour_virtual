(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7526],{7526:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var c=t(91309),i=t(85893),r=t(61935),u=t(67294),l=t(25617),o=t(20838),s=t(79612),FlickityScenes=function(e){var n=e.onSetRef,t=e.scenesGroupActive,c=e.sceneSelected;return(0,i.jsx)(s.Z,{elementType:"div",className:"carousel",flickityRef:function(e){e&&n(e)},options:{freeScroll:!0,freeScrollFriction:.03,contain:!0,prevNextButtons:!1,pageDots:!1,lazyLoad:!0,cellAlign:"left"},children:null==t?void 0:t.map(function(e){var n,t;return(0,i.jsxs)("div",{className:"".concat((null==c?void 0:c.id)===e.id?"active":""," itemScene"),children:[(0,i.jsx)("img",{src:e.screenshot||(null===(n=e.media)||void 0===n?void 0:n.src_thumb)||(null==e?void 0:null===(t=e.object360)||void 0===t?void 0:t.firstImage)||"",alt:""}),(0,i.jsx)("h2",{className:"--menuSceneTitle",children:e.title})]},e.id)})})},a=t(82604),d=t(69820);t(85785);var f=(0,u.forwardRef)(function(e,n){var t=e.onChangeScene,s=e.className,f=e.isShow,v=(0,u.useRef)(null),m=(0,c._)((0,u.useState)(!1),2),h=m[0],S=m[1],g=(0,l.v9)(r.Fr),p=(0,l.v9)(r.Y2),x=(0,u.useMemo)(function(){var e;return 1===g.length&&"uncategory"===g[0].id?"uncategory":(null===(e=g.filter(function(e){return(null==p?void 0:p.group)===e.id})[0])||void 0===e?void 0:e.id)||""},[g,null==p?void 0:p.id]),k=(0,u.useMemo)(function(){var e;return(null===(e=g.filter(function(e){return e.id===x})[0])||void 0===e?void 0:e.scenes)||[]},[x,g]),N=(0,u.useMemo)(function(){return k.findIndex(function(e){return e.id===(null==p?void 0:p.id)})},[null==p?void 0:p.id,k]),j=(0,u.useCallback)(function(e,n,c,i){c&&t(k[i])},[t,k]);return(0,u.useImperativeHandle)(n,function(){return{onPrevScene:function(){if(0!==N){var e,n=N-1;t(k[n]),null===(e=v.current)||void 0===e||e.select(n,!1)}},onNextScene:function(){if(N+1!==k.length){var e,n=N+1;t(k[n]),null===(e=v.current)||void 0===e||e.select(n,!1)}}}}),(0,u.useEffect)(function(){S(!0)},[]),(0,u.useEffect)(function(){var e;return(null==v?void 0:v.current)&&(null===(e=v.current)||void 0===e||e.on("staticClick",j)),function(){var e;(null==v?void 0:v.current)&&(null===(e=v.current)||void 0===e||e.off("staticClick",j))}},[x,h]),(0,i.jsxs)(d.bx,{className:"".concat(s," ").concat(f?"":"--hide"," ").concat(1===g.length&&"uncategory"===g[0].id?"hideNav":""),id:"themeListScene",children:[1===g.length&&"uncategory"===g[0].id?(0,i.jsx)("div",{className:"scenes",children:h&&(0,i.jsx)(FlickityScenes,{sceneSelected:p,scenesGroupActive:k,onSetRef:function(e){if(!v.current&&e){var n;v.current=e,null===(n=v.current)||void 0===n||n.on("staticClick",j)}}})}):(0,i.jsx)(o.Z,{activeKey:x,tabPosition:"top",onTabClick:function(e){var n=g.filter(function(n){return n.id===e})[0];n.scenes&&t(n.scenes[0])},onChange:function(){v.current=null},className:"--tabs",children:g.map(function(e){return(0,i.jsx)(o.Z.TabPane,{tab:"".concat(e.name||"N/A"),className:"itemSceneCate ".concat(x===e.id?"active":""),children:x===e.id&&h&&(0,i.jsx)(FlickityScenes,{sceneSelected:p,scenesGroupActive:k,onSetRef:function(e){var n;v.current=e,null===(n=v.current)||void 0===n||n.on("staticClick",j)}})},e.id)})}),(0,i.jsx)(a.H,{})]})})},85785:function(){}}]);
//# sourceMappingURL=7526.7e65dae630d87a27.js.map
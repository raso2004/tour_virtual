{"version":3,"file":"static/chunks/7526.7e65dae630d87a27.js","mappings":"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","sources":["webpack://_N_E/./containers/Home/themes/ThemeWall/FlickityScenes.tsx","webpack://_N_E/./containers/Home/themes/ThemeWall/ListScene.tsx","webpack://_N_E/./node_modules/flickity/css/flickity.css","webpack://_N_E/<anon>"],"sourcesContent":["import { I_Scene } from '@containers/Home/types';\nimport Flickity from 'react-flickity-component';\n\nexport type TypeFlickity = Flickity;\n\ninterface I_ListSceneProps {\n  sceneSelected?: I_Scene;\n  scenesGroupActive?: I_Scene[];\n  onSetRef: (c: TypeFlickity | null) => void;\n}\n\nfunction ListSceneFlickity({\n  onSetRef,\n  scenesGroupActive,\n  sceneSelected,\n}: I_ListSceneProps) {\n  return (\n    <Flickity\n      elementType=\"div\"\n      className=\"carousel\"\n      flickityRef={c => {\n        if (c) onSetRef(c);\n      }}\n      options={{\n        freeScroll: true,\n        freeScrollFriction: 0.03,\n        contain: true,\n        prevNextButtons: false,\n        pageDots: false,\n        lazyLoad: true,\n        cellAlign: 'left',\n      }}\n    >\n      {scenesGroupActive?.map(scene => (\n        <div\n          key={scene.id}\n          className={`${\n            sceneSelected?.id === scene.id ? 'active' : ''\n          } itemScene`}\n        >\n          <img\n            src={\n              scene.screenshot ||\n              scene.media?.src_thumb ||\n              scene?.object360?.firstImage ||\n              ''\n            }\n            alt=\"\"\n          />\n          <h2 className=\"--menuSceneTitle\">{scene.title}</h2>\n        </div>\n      ))}\n    </Flickity>\n  );\n}\n\nexport default ListSceneFlickity;\n","import {\n  selectListGroup,\n  selectSceneSelected,\n} from '@containers/Home/selectors';\nimport { I_Scene } from '@containers/Home/types';\nimport React, {\n  Ref,\n  useRef,\n  useMemo,\n  useEffect,\n  forwardRef,\n  useCallback,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport { Tabs } from 'antd';\nimport ListSceneFlickity, { TypeFlickity } from './FlickityScenes';\nimport { FlickityStyle } from '@styles/flickity';\nimport { ListSceneWrapper } from './styled';\nimport 'flickity/css/flickity.css';\n\ninterface Props {\n  isShow: boolean;\n  className?: string;\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nexport type Type_RefFuncSlide = {\n  onPrevScene: () => void;\n  onNextScene: () => void;\n};\n\nconst ListScene = forwardRef(\n  (\n    { onChangeScene, className, isShow }: Props,\n    ref: Ref<Type_RefFuncSlide>,\n  ) => {\n    const flickityRef = useRef<TypeFlickity | null>(null!);\n\n    const [isShowFlickity, setIsShowFlickity] = useState(false);\n\n    const listGroup = useSelector(selectListGroup);\n    const sceneSelected = useSelector(selectSceneSelected);\n\n    const groupActive = useMemo(\n      () =>\n        listGroup.length === 1 && listGroup[0].id === 'uncategory'\n          ? 'uncategory'\n          : listGroup.filter(item => sceneSelected?.group === item.id)[0]?.id ||\n            '',\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [listGroup, sceneSelected?.id],\n    );\n\n    const scenesGroupActive = useMemo(\n      () => listGroup.filter(item => item.id === groupActive)[0]?.scenes || [],\n      [groupActive, listGroup],\n    );\n\n    const currentIndex = useMemo(\n      () => scenesGroupActive.findIndex(item => item.id === sceneSelected?.id),\n      [sceneSelected?.id, scenesGroupActive],\n    );\n\n    const onClickScene = useCallback(\n      (_event, _pointer, cellElement, cellIndex) => {\n        if (!cellElement) return;\n        onChangeScene(scenesGroupActive[cellIndex]);\n      },\n      [onChangeScene, scenesGroupActive],\n    );\n\n    useImperativeHandle(ref, () => ({\n      onPrevScene() {\n        if (currentIndex !== 0) {\n          const index = currentIndex - 1;\n          onChangeScene(scenesGroupActive[index]);\n          flickityRef.current?.select(index, false);\n        }\n      },\n      onNextScene() {\n        if (currentIndex + 1 !== scenesGroupActive.length) {\n          const index = currentIndex + 1;\n          onChangeScene(scenesGroupActive[index]);\n          flickityRef.current?.select(index, false);\n        }\n      },\n    }));\n\n    useEffect(() => {\n      setIsShowFlickity(true);\n    }, []);\n\n    useEffect(() => {\n      if (flickityRef?.current)\n        flickityRef.current?.on('staticClick', onClickScene);\n      return () => {\n        if (flickityRef?.current)\n          flickityRef.current?.off('staticClick', onClickScene);\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [groupActive, isShowFlickity]);\n\n    return (\n      <ListSceneWrapper\n        className={`${className} ${isShow ? '' : '--hide'} ${\n          listGroup.length === 1 && listGroup[0].id === 'uncategory'\n            ? 'hideNav'\n            : ''\n        }`}\n        id=\"themeListScene\"\n      >\n        {listGroup.length === 1 && listGroup[0].id === 'uncategory' ? (\n          <div className=\"scenes\">\n            {isShowFlickity && (\n              <ListSceneFlickity\n                sceneSelected={sceneSelected}\n                scenesGroupActive={scenesGroupActive}\n                onSetRef={c => {\n                  if (!flickityRef.current && c) {\n                    flickityRef.current = c;\n                    flickityRef.current?.on('staticClick', onClickScene);\n                  }\n                }}\n              />\n            )}\n          </div>\n        ) : (\n          <Tabs\n            activeKey={groupActive}\n            tabPosition=\"top\"\n            onTabClick={key => {\n              const group = listGroup.filter(item => item.id === key)[0];\n              if (group.scenes) {\n                // flickityRef.current = null;\n                onChangeScene(group.scenes[0]);\n              }\n            }}\n            onChange={() => {\n              flickityRef.current = null;\n            }}\n            className=\"--tabs\"\n          >\n            {listGroup.map(group => (\n              <Tabs.TabPane\n                tab={`${group.name || 'N/A'}`}\n                key={group.id}\n                className={`itemSceneCate ${\n                  groupActive === group.id ? 'active' : ''\n                }`}\n              >\n                {groupActive === group.id && isShowFlickity && (\n                  <ListSceneFlickity\n                    sceneSelected={sceneSelected}\n                    scenesGroupActive={scenesGroupActive}\n                    onSetRef={c => {\n                      flickityRef.current = c;\n                      flickityRef.current?.on('staticClick', onClickScene);\n                    }}\n                  />\n                )}\n              </Tabs.TabPane>\n            ))}\n          </Tabs>\n        )}\n\n        <FlickityStyle />\n      </ListSceneWrapper>\n    );\n  },\n);\n\nexport default ListScene;\n","// extracted by mini-css-extract-plugin"],"names":["FlickityScenes","param","onSetRef","scenesGroupActive","sceneSelected","jsx_runtime","jsx","Flickity","elementType","className","flickityRef","c","options","freeScroll","freeScrollFriction","contain","prevNextButtons","pageDots","lazyLoad","cellAlign","map","scene","jsxs","div","concat","id","img","src","screenshot","media","src_thumb","object360","firstImage","alt","h2","title","ThemeWall_ListScene","forwardRef","ref","onChangeScene","isShow","useRef","useState","isShowFlickity","setIsShowFlickity","listGroup","useSelector","selectListGroup","selectSceneSelected","groupActive","useMemo","length","filter","item","group","scenes","currentIndex","findIndex","onClickScene","useCallback","_event","_pointer","cellElement","cellIndex","useImperativeHandle","onPrevScene","index","current","select","onNextScene","useEffect","on","off","ListSceneWrapper","ListSceneFlickity","Tabs","activeKey","tabPosition","onTabClick","key","onChange","TabPane","tab","name","FlickityStyle"],"sourceRoot":""}
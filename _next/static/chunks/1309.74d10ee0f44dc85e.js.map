{"version":3,"file":"static/chunks/1309.74d10ee0f44dc85e.js","mappings":"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","sources":["webpack://_N_E/./components/Hotspot/animation.ts","webpack://_N_E/./components/Hotspot/styled.tsx","webpack://_N_E/./components/BeforeAfterSlider/styled.ts","webpack://_N_E/./components/BeforeAfterSlider/index.tsx","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentSceneIcon.tsx","webpack://_N_E/./components/Hotspot/HotspotMedia.tsx","webpack://_N_E/./components/Krpano/useInternalFunction.tsx","webpack://_N_E/./utils/fullscreen.ts","webpack://_N_E/./components/Krpano/KrpanoViewer.tsx","webpack://_N_E/./containers/Home/components/Tour.RenderSceneKrpano/index.tsx","webpack://_N_E/./containers/Home/components/Tour.RenderSceneFlat360/styled.ts","webpack://_N_E/./containers/Home/components/Tour.RenderSceneFlat360/index.tsx","webpack://_N_E/./containers/Home/components/Tour.tsx","webpack://_N_E/./containers/Home/components/styled.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { keyframes } from 'styled-components';\n\nexport const pulse = keyframes`\n  0% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / .5);\n  }\n  70% {\n    transform: scale(1);\n    box-shadow: 0 0 0 50px rgba(255 255 255 / 0);\n  }\n  100% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / 0);\n  }\n`;\n\nexport const bounce = height => keyframes`\n  from {\n    transform: translateY(0px);\n  }\n  to {\n    transform: translateY(${height});\n  }\n`;\n\nexport const dash = keyframes`\n  from {\n    stroke-dashoffset: 800;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n`;\n\nexport const pulseCallout = keyframes`\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n  }\n  70%,\n  100% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n`;\n","/* eslint-disable no-nested-ternary */\nimport { FlexRowCenter } from 'styles/global-styles';\nimport styled, { css } from 'styled-components';\nimport {\n  I_HotspotConfigGlobal,\n  I_HotspotConfigStyle,\n  I_MediaInteraction,\n} from '@containers/Home/types';\nimport {\n  COLOR_HOTSPOT_BG_DEFAULT,\n  COLOR_HOTSPOT_ICON_DEFAULT,\n} from '@containers/Home/constants';\nimport { bounce, pulse, pulseCallout, dash } from './animation';\n\nexport const ShapeIconWrapper = styled.div<\n  I_HotspotConfigGlobal & {\n    // icon_fontSize?: number;\n    // shape_fontSize?: number;\n    // shape_color?: string;\n    isRenderShape?: boolean;\n  }\n>`\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  ${props =>\n    !props.isRenderShape &&\n    css`\n      background-color: ${props.bgColor || 'var(--color-red)'};\n      border: 2px solid #ffffff;\n      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n    `}\n  &.star span.icon {\n    margin-top: 7%;\n  }\n  &.triangle span.icon {\n    margin-top: 10%;\n  }\n  &.yinyang span.icon {\n    display: none;\n  }\n  &.diamond span.icon {\n    margin-top: -8%;\n  }\n  svg {\n    width: 100%;\n    height: 100%;\n    overflow: visible;\n    filter: drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.4));\n    path {\n      stroke: #fff;\n      stroke-width: 46px;\n      ${props => css`\n        fill: ${props.bgColor || 'var(--color-red)'};\n      `}\n    }\n  }\n  .icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    i {\n      color: ${props => props.iconColor || '#fff'} !important;\n    }\n  }\n`;\n\nexport const ImageIconWrapper = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nexport const LottieIconWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nexport const MarkerIconWrapper = styled.div<{ color?: string }>`\n  position: relative;\n  svg {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  path {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  img {\n    position: absolute;\n    border-radius: 50%;\n    height: auto;\n    width: 70%;\n    height: auto;\n    aspect-ratio: 1/1;\n    left: 0;\n    right: 0;\n    top: 10%;\n    margin: auto;\n  }\n  #id_marker1 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker2 {\n    img {\n      top: 9%;\n      border-radius: 10%;\n    }\n  }\n  #id_marker3 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker4 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker5 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker6 {\n    img {\n      top: 8%;\n    }\n  }\n  #id_marker7 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker8 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker9 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker10 {\n    img {\n      top: 9%;\n    }\n  }\n  #id_marker11 {\n    img {\n      top: 10.5%;\n    }\n  }\n  #id_marker12 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker13 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker14 {\n    img {\n      top: 11.5%;\n    }\n  }\n  #id_marker15 {\n    img {\n      top: 7.5%;\n    }\n  }\n  #id_marker16 {\n    img {\n      border-radius: 10%;\n      top: 10%;\n      width: 64%;\n    }\n  }\n`;\n\nexport const DefaultIconWrapper = styled.div<I_HotspotConfigGlobal>`\n  background: ${props => props.bgColor || COLOR_HOTSPOT_BG_DEFAULT};\n  border: 2px solid #ffffff;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 50%;\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  transition: var(--transition-smooth);\n  i {\n    font-size: 18px;\n    color: ${props => props.iconColor || COLOR_HOTSPOT_ICON_DEFAULT};\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      transform: scale(1.2);\n    }\n  }\n`;\n\nexport const HotspotWrapper = styled.div<{\n  isHidden: boolean;\n  type: I_HotspotConfigStyle['type'] | 'icon-shape';\n  size?: number;\n  rotate?: number;\n  opacity?: number;\n}>`\n  ${props =>\n    props.isHidden &&\n    css`\n      visibility: hidden;\n    `}\n  position: relative;\n  width: ${props =>\n    (props.type === 'image'\n      ? 24\n      : props.type === 'marker'\n      ? 20\n      : props.type === 'lottie'\n      ? 32\n      : props.type === 'icon-shape'\n      ? 14.7\n      : 10.7) * (props.size || 3)}px;\n  height: ${props =>\n    props.type === 'image' || props.type === 'marker' || props.type === 'lottie'\n      ? 'auto'\n      : props.type === 'icon-shape'\n      ? `${14.7 * (props.size || 3)}px`\n      : `${10.7 * (props.size || 3)}px`};\n  .content {\n    width: 100%;\n    height: 100%;\n    opacity: ${props => props.opacity};\n    transform: rotate(${props => props.rotate}deg);\n    ${ShapeIconWrapper}, ${DefaultIconWrapper} {\n      i {\n        font-size: ${props => 4.7 * (props.size || 3)}px;\n      }\n    }\n    animation-iteration-count: infinite;\n    animation-duration: var(--animate-duration) !important;\n    ${FlexRowCenter};\n    &.pulse-grow {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${pulse} 1.5s infinite;\n      animation-duration: 1500ms !important;\n    }\n    &.raise {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${props =>\n          bounce(\n            props.type === 'image' ? 'auto' : `${14 * (props.size || 3)}px`,\n          )}\n        500ms infinite alternate cubic-bezier(0.2, 0.65, 0.6, 1);\n      animation-duration: 2000ms !important;\n    }\n    border-radius: 50%;\n    position: relative;\n  }\n  .--title {\n    color: #fff;\n    top: -32px;\n    left: 50%;\n    // min-width: 100%;\n    font-weight: 600;\n    text-align: center;\n    position: absolute;\n    white-space: nowrap;\n    background: rgba(0, 0, 0, 0.35);\n    border-radius: 4px;\n    padding: 4px 6px;\n    z-index: 20;\n    transform: translate(-50%);\n    text-shadow: 0 1px 4px #000;\n    em {\n      color: #fff;\n      text-align: center;\n      font-style: initial;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n`;\n\nexport const HotspotMediaWrapper = styled.div<I_MediaInteraction>`\n  width: ${props => props.width} !important;\n  max-width: unset !important;\n  height: ${props => props.height} !important;\n  transform: ${props => props.transform}\n    rotate(${props => props.rotate || 0}deg);\n  background-color: ${props => props.backgroundColor};\n  opacity: ${props => props.opacity};\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  transform-origin: 0 0;\n  .target {\n    width: 100%;\n    height: 100%;\n    object-fit: ${props => props.displayType};\n  }\n  i {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    z-index: 30;\n    color: #fff;\n    background: rgb(0 0 0 / 0.5);\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.5rem;\n    transition: var(--transition-smooth);\n    transform: scale(0.5);\n    opacity: 0;\n    cursor: pointer;\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      i {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n  }\n  @media (hover: none) {\n    i {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;\n\nexport const CalloutIconWrapper = styled.div<{ degrees?: number }>`\n  width: 50%;\n  height: 50%;\n  .calloutWrapper {\n    width: 100%;\n    height: 100%;\n    .point {\n      width: 100%;\n      height: 100%;\n      .--dot {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border-radius: 50%;\n        animation: ${pulseCallout} ease-out 3s forwards infinite;\n      }\n    }\n    .--main {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%)\n        rotate(${props => props.degrees || 45}deg);\n      transform-origin: left bottom;\n    }\n    .line {\n      width: 0;\n      height: 2px;\n      background-color: #fff;\n      top: 50%;\n      transform: translateY(-50%);\n      position: absolute;\n      left: 50%;\n      transition: var(--transition-smooth);\n    }\n    .--content {\n      position: absolute;\n      left: 120px;\n      top: 50%;\n      &.--type-text {\n        height: 2px;\n        transform-origin: bottom left;\n        transform: translateY(-50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        .--img {\n          display: none;\n        }\n        .--line {\n          width: 0;\n          // width: 100%;\n          height: 2px;\n          margin-left: -1px;\n          background-color: #fff;\n          transition: var(--transition-smooth);\n          svg {\n            display: none;\n          }\n        }\n        .--text {\n          width: 0;\n          transition: var(--transition-smooth);\n          overflow: hidden;\n          pointer-events: none;\n          transform: translateY(calc(-100% + 20px));\n          &:after {\n            content: '';\n            width: 2px;\n            height: 0;\n            background: #fff;\n            display: block;\n            transition: var(--transition-smooth);\n            position: absolute;\n            top: 50%;\n            transform: translateY(-50%);\n          }\n        }\n        .--inner {\n          width: max-content;\n          pointer-events: auto;\n          position: relative;\n          max-width: 280px;\n          @media (max-width: 575px) {\n            max-width: 200px;\n          }\n        }\n        .--mainTitle {\n          background: var(--color-primary);\n          color: var(--color-text);\n          display: block;\n          padding: 4px 12px;\n          width: max-content;\n          // margin-bottom: 6px;\n          font-size: 0.9rem;\n          font-weight: 700;\n          line-height: 20px;\n          max-width: 100%;\n          width: 100%;\n        }\n        article {\n          color: #fff;\n          font-weight: 500;\n          text-shadow: 0 1px 4px #000;\n          max-width: 100%;\n          background: rgba(0, 0, 0, 0.35);\n          padding: 10px;\n        }\n      }\n      &.--type-img {\n        transform: translate(-20px, -50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        width: 120px;\n        height: 120px;\n        .--line {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: calc(100% + 10px);\n          height: calc(100% + 10px);\n          z-index: -1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          svg {\n            display: block;\n            width: 120px;\n            height: 120px;\n            @media (max-width: 575px) {\n              circle {\n                stroke-width: 4px;\n                /* r: 60px; */\n              }\n            }\n          }\n          #path {\n            stroke-dasharray: 800;\n            opacity: 0;\n          }\n        }\n        .--text {\n          display: none;\n        }\n        .--img {\n          width: 0;\n          height: 0;\n          overflow: hidden;\n          border-radius: 50%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: var(--transition-smooth);\n        }\n        .--inner {\n          width: max-content;\n          height: max-content;\n          pointer-events: auto;\n          position: relative;\n        }\n      }\n\n      .--img {\n        .--inner {\n          img {\n            width: 110px;\n            height: 110px;\n            border-radius: 50%;\n            object-fit: cover;\n            @media (max-width: 575px) {\n              width: 110px;\n              height: 110px;\n            }\n          }\n        }\n      }\n    }\n    &.active {\n      width: 120px;\n      height: 120px;\n      .line {\n        width: 120px;\n      }\n    }\n    &.show {\n      .line {\n        width: 120px;\n      }\n      .--content {\n        &.--type-text {\n          .--line {\n            /* width: 100%; */\n            /* transition-delay: 0.8s; */\n          }\n          .--text {\n            width: 100%;\n            transition-delay: 0.8s;\n            &:after {\n              height: 100%;\n              transition-delay: 0.8s;\n            }\n          }\n        }\n        &.--type-img {\n          .--img {\n            width: 100%;\n            height: 100%;\n            opacity: 1;\n            transition-delay: 0.8s;\n            img {\n            }\n          }\n          #path {\n            opacity: 1;\n            animation: ${dash} 2s ease-out forwards;\n            animation-delay: 0.5s;\n            transition-delay: 0.5s;\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const HotspotCompactWrapper = styled.div`\n  .compactHotspotWrapper {\n    pointer-events: none;\n    width: 2rem;\n    height: 1.5rem;\n    .--mainMarker {\n      width: 2rem;\n      height: 2rem;\n      // border: 5px solid var(--color-primary);\n      border: 5px solid #fff;\n      border-radius: 50%;\n      box-shadow: 0px 0px 4px 4px rgba(0, 0, 0, 0.5);\n      position: relative;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n      pointer-events: auto;\n      animation: pulse ease-out 3s forwards infinite;\n      @keyframes pulse {\n        0% {\n          box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n        }\n        70%,\n        100% {\n          box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n        }\n      }\n    }\n    .--revealMarkers {\n      display: flex;\n      gap: 8px;\n      pointer-events: none;\n      width: max-content;\n      height: max-content;\n      padding: 0.5rem 0;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n    }\n    .--itemDetailMarker {\n      opacity: 0;\n      transform: scale(0.5);\n      transition: var(--transition-smooth);\n      flex: 0 0 auto;\n      pointer-events: auto;\n      i {\n        background: rgba(0, 0, 0, 0.5);\n        border: 1px solid rgba(255, 255, 255, 0.5);\n        color: #fff;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: var(--transition-regular);\n      }\n      &:nth-child(1) {\n        transition-delay: 0s;\n      }\n      &:nth-child(2) {\n        transition-delay: 0.05s;\n      }\n      &:nth-child(3) {\n        transition-delay: 0.1s;\n      }\n      &:nth-child(4) {\n        transition-delay: 0.15s;\n      }\n      &:nth-child(5) {\n        transition-delay: 0.2s;\n      }\n      &:nth-child(6) {\n        transition-delay: 0.25s;\n      }\n      &:nth-child(7) {\n        transition-delay: 0.3s;\n      }\n      &:nth-child(8) {\n        transition-delay: 0.35s;\n      }\n      &:nth-child(9) {\n        transition-delay: 0.4s;\n      }\n      &:nth-child(10) {\n        transition-delay: 0.45s;\n      }\n    }\n\n    &:hover {\n      .--revealMarkers {\n        pointer-events: auto;\n      }\n      .--itemDetailMarker {\n        opacity: 1;\n        transform: scale(1);\n        &:hover {\n          i {\n            //   transform: scale(1.2);\n            background: var(--color-primary);\n            border-color: transparent;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);\n          }\n        }\n      }\n    }\n  }\n`;\n","import styled from 'styled-components';\n\nexport const BeforeAfterSliderWrapper = styled.div`\n  width: 100%;\n  position: relative;\n  height: 100%;\n  z-index: 1;\n\n  .--pane {\n    top: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n  }\n  img {\n    user-select: none;\n  }\n  .--first-photo-container,\n  .--second-photo-container {\n    background: transparent;\n    > img {\n      width: 100%;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n  }\n  .--delimiter {\n    position: absolute;\n    height: 100%;\n    background: #fff;\n    width: 5px;\n    top: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .--delimiter-icon {\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n    background: #fff;\n    cursor: col-resize;\n  }\n\n  .--size-fix-img {\n    width: 100%;\n    opacity: 0;\n  }\n`;\n","import KrpanoBasic from '@components/Krpano/KrpanoBasic';\nimport { I_NadirConfig, I_Scene } from '@containers/Home/types';\nimport React, {\n  MouseEventHandler,\n  TouchEventHandler,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { BeforeAfterSliderWrapper } from './styled';\nimport { objectType } from '@type/customType';\n\n// eslint-disable-next-line no-shadow\nenum MODE_CURSOR {\n  MOVE = 'move',\n  DEFAULT = 'default',\n}\n\nexport function isIntersectionObserverSupport() {\n  if (typeof window === 'undefined') return false;\n  return Boolean(window.IntersectionObserver);\n}\n\nexport interface Image {\n  id?: string | number;\n  imageUrl: string;\n}\n\ninterface Props {\n  scenes?: (I_Scene & { urlTour: string })[];\n  classNames?: string;\n  onVisible?: () => void;\n  delimiterColor?: string;\n  withResizeFeel?: boolean;\n  firstPane: React.ReactNode;\n  nadirConfig?: I_NadirConfig;\n  mode: 'split' | 'slide' | '';\n}\n\nfunction useInit(\n  updateContainerWidth: () => void,\n  onMouseUpHandler: () => void,\n) {\n  useEffect(() => {\n    updateContainerWidth();\n    document.addEventListener('click', onMouseUpHandler);\n    return () => {\n      document.removeEventListener('click', onMouseUpHandler);\n    };\n  }, [onMouseUpHandler, updateContainerWidth]);\n}\n\nfunction useResizeFeel(callback: () => void, withResizeFeel?: boolean) {\n  useEffect(() => {\n    if (withResizeFeel) {\n      window.addEventListener('resize', callback);\n    }\n\n    return () => {\n      window.removeEventListener('resize', callback);\n    };\n  }, [callback, withResizeFeel]);\n}\n\nexport default function BeforeAfterSlider({\n  scenes = [],\n  firstPane,\n  onVisible,\n  classNames,\n  nadirConfig,\n  delimiterColor,\n  withResizeFeel = true,\n  mode = 'slide',\n}: Props) {\n  const refContainer = useRef<HTMLDivElement>(null);\n  const stateTemporary = useRef<objectType | null>(null);\n  const [containerWidth, setContainerWidth] = useState<number | null>(null);\n  const [panesPosition, setPanesPosition] = useState<\n    {\n      width: number;\n      left: number;\n    }[]\n  >([]);\n  const [sliderMode, setSliderMode] = useState<MODE_CURSOR>(\n    MODE_CURSOR.DEFAULT,\n  );\n  const [containerPosition, setContainerPosition] = useState({\n    top: 0,\n    left: 0,\n  });\n\n  const firstPanePosition = useMemo(\n    () =>\n      mode === 'split'\n        ? {\n            width:\n              100 -\n              (panesPosition || [])?.reduce((a, b) => a + b?.width || 0, 0),\n            left: panesPosition?.reduce((a, b) => a + b.width, 0),\n          }\n        : {\n            width: '100%',\n            left: '0',\n          },\n    [mode, panesPosition],\n  );\n\n  /**\n   * Observer start\n   */\n  const observerVisiblePersent = 0.95;\n  const observerOptions = {\n    threshold: [0.0, observerVisiblePersent],\n  };\n  const observerCallback = (entries: IntersectionObserverEntry[]) => {\n    if (!observer || !onVisible) return;\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > observerVisiblePersent) {\n        observer.disconnect();\n        onVisible();\n      }\n    });\n  };\n  const [observer] = useState(\n    onVisible && isIntersectionObserverSupport()\n      ? new IntersectionObserver(observerCallback, observerOptions)\n      : null,\n  );\n\n  useEffect(() => {\n    if (observer) observer.observe(refContainer.current as HTMLDivElement);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [observer]);\n\n  /**\n   * Observer end\n   */\n\n  useEffect(() => {\n    if (!containerWidth) return;\n    const positions: { width: number; left: number }[] = [];\n    const widthAverage = Number(100 / (scenes.length + 1));\n    for (let index = 0; index < scenes.length; index += 1) {\n      if (index === 0) positions.push({ width: widthAverage, left: 0 });\n      else {\n        const left = widthAverage * index;\n        positions.push({ width: widthAverage, left });\n      }\n    }\n    setPanesPosition(positions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerWidth, scenes]);\n\n  const updateContainerWidth = () => {\n    if (!refContainer.current) return;\n    const width = refContainer.current.offsetWidth;\n    setContainerWidth(width);\n  };\n\n  const onMouseUpHandler = () => {\n    setSliderMode(MODE_CURSOR.DEFAULT);\n  };\n\n  useInit(updateContainerWidth, onMouseUpHandler);\n\n  const delimiterIconStyles = {\n    backgroundColor: delimiterColor,\n  };\n  const delimiterPositionStyle = {\n    backgroundColor: delimiterColor,\n    right: 0,\n  };\n\n  const updateContainerPosition = () => {\n    if (!refContainer.current) return;\n    const containerCoords = refContainer.current.getBoundingClientRect();\n\n    setContainerPosition({\n      top: containerCoords.top + (window as any).pageYOffset,\n      left: containerCoords.left + (window as any).pageXOffset,\n    });\n  };\n\n  const onMouseDownHandler = item => {\n    updateContainerPosition();\n    setSliderMode(MODE_CURSOR.MOVE);\n    if (!stateTemporary.current) stateTemporary.current = [];\n    stateTemporary.current.itemActive = item;\n  };\n\n  const onMouseMoveHandler: MouseEventHandler<HTMLDivElement> = e => {\n    e.preventDefault();\n    onMoveHandler(e);\n  };\n\n  const onTouchMoveHandler: TouchEventHandler<HTMLDivElement> = e => {\n    onMoveHandler(e.touches[0]);\n  };\n\n  const onMoveHandler = (e: React.Touch | React.MouseEvent) => {\n    if (sliderMode === MODE_CURSOR.MOVE) {\n      if (!containerWidth) return;\n      const X = e.pageX - containerPosition.left;\n      const newPosition = (X / containerWidth) * 100;\n      if (stateTemporary.current?.itemActive === panesPosition.length - 1)\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (idx === stateTemporary.current?.itemActive) {\n              const newItem = {\n                width:\n                  newPosition -\n                  (panesPosition\n                    .map(el => el.width || 0)\n                    .reduce((a, b) => a + b, 0) -\n                    item.width),\n                left: item.left,\n              };\n              if (newItem.width > 5) return newItem;\n            }\n            return item;\n          }),\n        );\n      else\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (\n              stateTemporary.current &&\n              idx === stateTemporary.current?.itemActive\n            ) {\n              stateTemporary.current.totalWidthCurrentAndNextItem =\n                item.width + prev[idx + 1].width;\n              stateTemporary.current.totalWidthItemsLtCurrent = prev\n                .filter((_item, i) => i < stateTemporary.current?.itemActive)\n                .map(el => el.width || 0)\n                .reduce((a, b) => a + b, 0);\n              stateTemporary.current.currentWidthOld = item.width;\n              stateTemporary.current.currentWidthNew =\n                stateTemporary.current.itemActive === 0\n                  ? newPosition\n                  : newPosition -\n                    stateTemporary.current.totalWidthItemsLtCurrent;\n              const newItem = {\n                width: stateTemporary.current.currentWidthNew,\n                left: item.left,\n              };\n              stateTemporary.current.isUpdateNextItem = false;\n              if (\n                newItem.width > 5 &&\n                newItem.width <\n                  stateTemporary.current.totalWidthCurrentAndNextItem - 5\n              ) {\n                stateTemporary.current.isUpdateNextItem = true;\n                return newItem;\n              }\n            }\n            if (\n              stateTemporary.current &&\n              idx === stateTemporary.current.itemActive + 1\n            ) {\n              const newWidth =\n                item.width +\n                stateTemporary.current.currentWidthOld -\n                stateTemporary.current.currentWidthNew;\n              const newItem = {\n                width: newWidth,\n                left:\n                  stateTemporary.current.totalWidthItemsLtCurrent +\n                  stateTemporary.current.currentWidthNew,\n              };\n              if (stateTemporary.current.isUpdateNextItem) return newItem;\n            }\n            return item;\n          }),\n        );\n    }\n  };\n\n  useResizeFeel(updateContainerWidth, withResizeFeel);\n\n  return (\n    <BeforeAfterSliderWrapper\n      ref={refContainer}\n      className={classNames}\n      onMouseMove={onMouseMoveHandler}\n      onTouchMove={onTouchMoveHandler}\n    >\n      {panesPosition && Boolean(containerWidth) && (\n        <>\n          <div\n            className=\"--pane --first-photo-container\"\n            style={{\n              width: `${firstPanePosition.width}%`,\n              left: `${firstPanePosition.left}%`,\n              zIndex: 0,\n            }}\n          >\n            {firstPane}\n          </div>\n          {scenes.map((item, index) => (\n            <div\n              key={item.id}\n              className=\"--pane --second-photo-container\"\n              style={{\n                width: `${panesPosition[index]?.width || 0}%`,\n                left: `${panesPosition[index]?.left || 0}%`,\n                zIndex: scenes.length - index,\n              }}\n            >\n              <div\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  overflow: 'hidden',\n                  position: 'relative',\n                }}\n              >\n                <KrpanoBasic\n                  urlTour={item.urlTour || ''}\n                  scene={item || undefined}\n                  krpanoId={`krpanoView_${index}`}\n                  divId={`krpanoContainer_${index}`}\n                  styleContainer={{\n                    height: '100%',\n                    position: 'absolute',\n                    left:\n                      mode === 'slide'\n                        ? `calc(-1vw * ${panesPosition[index]?.left})`\n                        : '0',\n                    top: 0,\n                    width: mode === 'slide' ? '100vw' : '100%',\n                  }}\n                  nadirConfig={nadirConfig}\n                />\n              </div>\n              <div className=\"--delimiter\" style={delimiterPositionStyle}>\n                {mode === 'slide' && (\n                  <div>\n                    <div\n                      className=\"--delimiter-icon\"\n                      onMouseDown={() => onMouseDownHandler(index)}\n                      onTouchStart={() => onMouseDownHandler(index)}\n                      style={delimiterIconStyles}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </BeforeAfterSliderWrapper>\n  );\n}\n","import React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { I_CommentScene } from 'containers/Home/types';\nimport { Popover } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport LoadingContainer from '@components/LoadingContainer';\nimport { CommentSceneIconWrapper } from './styled';\n\nconst PopoverCommentScene = dynamic(() => import('./CommentScenePopover'));\nconst SvgContainer = dynamic(() => import('@components/SvgContainer'));\n\ninterface Props {\n  commentScene: I_CommentScene;\n  onCreateCommentScene: (data, krpanoInstance) => void;\n  onUpdateCommentScene: (data, krpanoInstance) => void;\n  onDeleteCommentScene: (data, krpanoInstace, isClosePopoverOnKrpano) => void;\n}\n\nexport type TypeRefCommentSceneIcon = {\n  onClose: () => void;\n};\n\nconst CommentSceneIcon = forwardRef(\n  (\n    {\n      commentScene,\n      onCreateCommentScene,\n      onUpdateCommentScene,\n      onDeleteCommentScene,\n    }: Props,\n    ref: Ref<TypeRefCommentSceneIcon>,\n  ) => {\n    const [isShow, setIsShow] = useState(false);\n    const [krpanoInstance] = useCollaborationMode('krpanoRef');\n    const [commentSceneSelected, setCommentSelected] = useCollaborationMode(\n      'commentSceneSelected',\n    );\n    const [loading] = useCollaborationMode('loading');\n\n    useEffect(\n      () => () => {\n        setIsShow(false);\n      },\n      [],\n    );\n\n    useEffect(() => {\n      if (commentSceneSelected) {\n        setIsShow(commentSceneSelected.id === commentScene.id);\n      } else setIsShow(false);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [commentSceneSelected]);\n\n    const onClosePopover = useCallback(() => {\n      setCommentSelected(null);\n    }, [setCommentSelected]);\n\n    const _onCreateCommentScene = useCallback(\n      data => onCreateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onCreateCommentScene],\n    );\n\n    const _onUpdateCommentScene = useCallback(\n      data => onUpdateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onUpdateCommentScene],\n    );\n\n    const _onDeleteCommentScene = useCallback(\n      (data, isClosePopover = false) =>\n        onDeleteCommentScene(data, krpanoInstance, isClosePopover),\n      [krpanoInstance, onDeleteCommentScene],\n    );\n\n    useImperativeHandle(ref, () => ({\n      onClose() {\n        setIsShow(false);\n        onClosePopover();\n      },\n    }));\n\n    return (\n      <Popover\n        open={isShow}\n        content={\n          <LoadingContainer loading={loading}>\n            <PopoverCommentScene\n              onClose={onClosePopover}\n              commentSceneSelected={commentScene}\n              onCreateCommentScene={_onCreateCommentScene}\n              onUpdateCommentScene={_onUpdateCommentScene}\n              onDeleteCommentScene={_onDeleteCommentScene}\n            />\n          </LoadingContainer>\n        }\n        placement=\"bottomLeft\"\n        destroyTooltipOnHide\n        trigger=\"click\"\n        zIndex={99}\n      >\n        <CommentSceneIconWrapper\n          // onClick={onClick}\n          className={commentScene.isResolved ? 'resolved' : ''}\n        >\n          <SvgContainer\n            src={`${process.env.NEXT_PUBLIC_ASSETS_URL}/core/comment.svg`}\n            name=\"4\"\n          />\n          <span className=\"--icon\">{commentScene?.index || 0}</span>\n        </CommentSceneIconWrapper>\n      </Popover>\n    );\n  },\n);\n\nexport default CommentSceneIcon;\n","/* eslint-disable no-nested-ternary */\nimport { I_Hotspot, I_Post } from '@containers/Home/types';\nimport dynamic from 'next/dynamic';\nimport React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { HotspotMediaWrapper } from './styled';\n\nconst DialogPostWithoutUseRedux = dynamic(\n  () => import('@components/DialogPost/DialogPostWithoutUseRedux'),\n);\n\ninterface Props {\n  hotspot: I_Hotspot;\n  listPost?: I_Post[];\n  isSoundOn?: boolean;\n  onClickHotspot: ({ hotspot }) => void;\n}\n\nexport type TypeRefHotspotMedia = {\n  onToggleMute: (isMute: boolean) => void;\n};\n\nconst HotspotMedia = forwardRef(\n  (\n    { hotspot, listPost, isSoundOn, onClickHotspot }: Props,\n    ref: Ref<TypeRefHotspotMedia>,\n  ) => {\n    const videoRef = useRef<HTMLVideoElement | null>(null!);\n    const [isVideoPlaying, setIsVideoPlaying] = useState(false);\n    const [visibleDialogPost, setVisibleDialogPost] = useState(false);\n\n    const postId = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-image'\n          ? hotspot?.config?.media?.post_id\n          : '',\n      [hotspot],\n    );\n    const type = useMemo(\n      () => hotspot?.config?.media?.type || 'media-video',\n      [hotspot],\n    );\n    const isVideoLoop = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.loop || false\n          : false,\n      [hotspot],\n    );\n    const isVideoAutoplay = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.autoPlay || false\n          : false,\n      [hotspot],\n    );\n    const videoVolume = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.volume || 0\n          : 0,\n      [hotspot],\n    );\n    const actionClick = useMemo(\n      () => hotspot?.config?.media?.action,\n      [hotspot],\n    );\n    const width = useMemo(\n      () => hotspot?.config?.media?.width || '250px',\n      [hotspot],\n    );\n    const height = useMemo(\n      () => hotspot?.config?.media?.height || '200px',\n      [hotspot],\n    );\n    const transform = useMemo(\n      () => hotspot?.config?.media?.transform || '',\n      [hotspot],\n    );\n    const rotate = useMemo(\n      () => hotspot?.config?.media?.rotate || 0,\n      [hotspot],\n    );\n    const backgroundColor = useMemo(\n      () => hotspot?.config?.media?.backgroundColor || '#00000000',\n      [hotspot],\n    );\n    const opacity = useMemo(\n      () => hotspot?.config?.media?.opacity || 1,\n      [hotspot],\n    );\n    const displayType = useMemo(\n      () => hotspot?.config?.media?.displayType || 'none',\n      [hotspot],\n    );\n    const content_post = useMemo(\n      () => hotspot?.config?.media?.content || '',\n      [hotspot],\n    );\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current)\n        if (isVideoAutoplay)\n          try {\n            videoRef.current.muted = true;\n            videoRef.current.autoplay = true;\n            setIsVideoPlaying(true);\n          } catch (err) {\n            console.log(err);\n          }\n        else videoRef.current.pause();\n    }, [isVideoAutoplay, type]);\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current) {\n        videoRef.current.volume = isSoundOn ? videoVolume / 100 : 0;\n        videoRef.current.muted = !isSoundOn || videoVolume === 0;\n      }\n    }, [videoVolume, isSoundOn, type]);\n\n    const onOpenDialogPost = useCallback(() => setVisibleDialogPost(true), []);\n    const onCloseDialogPost = useCallback(\n      () => setVisibleDialogPost(false),\n      [],\n    );\n\n    const onClick = useCallback(() => {\n      switch (type) {\n        case 'media-video':\n          switch (actionClick) {\n            case 'play/pause':\n              setIsVideoPlaying(videoRef.current?.paused || false);\n              if (videoRef.current?.paused) {\n                videoRef.current.play();\n              } else videoRef.current?.pause();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        case 'media-image':\n          switch (actionClick) {\n            case 'open-post':\n              onOpenDialogPost();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        default:\n          break;\n      }\n    }, [actionClick, hotspot, onClickHotspot, onOpenDialogPost, type]);\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        onToggleMute: isMute => {\n          if (videoRef.current) {\n            videoRef.current.muted = isMute;\n            videoRef.current.volume = !isMute ? videoVolume / 100 : 0;\n          }\n        },\n      }),\n      [videoVolume],\n    );\n\n    return (\n      <>\n        <HotspotMediaWrapper\n          width={width}\n          height={height}\n          opacity={opacity}\n          rotate={rotate}\n          transform={transform}\n          displayType={displayType}\n          backgroundColor={backgroundColor}\n        >\n          {type === 'media-video' ? (\n            <>\n              {actionClick && (\n                <i\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'play/pause'\n                      ? isVideoPlaying\n                        ? 'pause'\n                        : 'play'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <video\n                ref={videoRef}\n                loop={isVideoLoop}\n                autoPlay={true}\n                className=\"target\"\n                playsInline\n                muted={true}\n                preload=\"metadata\"\n              >\n                {hotspot?.config?.media?.type === 'media-video' &&\n                  hotspot?.config?.media?.mediaIOS?.src && (\n                    <source\n                      src={\n                        hotspot?.config?.media?.type === 'media-video'\n                          ? hotspot?.config?.media?.mediaIOS?.src + '#t=0.001'\n                          : ''\n                      }\n                      type='video/mp4; codecs=\"hvc1\"'\n                    />\n                  )}\n                <source\n                  src={hotspot?.config?.media?.media?.src || '' + '#t=0.001'}\n                  type={'video/mp4'}\n                />\n              </video>\n            </>\n          ) : type === 'media-image' ? (\n            <>\n              {actionClick && (\n                <i\n                  aria-hidden\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'open-post'\n                      ? 'info-circle'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <img\n                src={hotspot?.config?.media?.media?.src}\n                className=\"target\"\n                alt=\"\"\n              />\n            </>\n          ) : type === 'media-text' ? (\n            <div\n              className=\"target\"\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: content_post || '' }}\n              onClick={onClick}\n              onTouchStart={onClick}\n            />\n          ) : (\n            <div />\n          )}\n        </HotspotMediaWrapper>\n\n        {visibleDialogPost && postId && (\n          <DialogPostWithoutUseRedux\n            idPost={postId}\n            listPost={listPost || []}\n            visible={visibleDialogPost}\n            onCancel={onCloseDialogPost}\n          />\n        )}\n      </>\n    );\n  },\n);\n\nexport default HotspotMedia;\n","/* eslint-disable no-nested-ternary */\nimport {\n  CONFIG_POLYGON_HOTSPOT_DEFAULT,\n  DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT,\n  DEFAULT_CONFIG_SCENE_PLUGIN,\n} from '@containers/Home/constants';\nimport {\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useZoomKrpano,\n} from '@containers/Home/global/TourStats';\nimport {\n  I_CommentScene,\n  I_Hotspot,\n  I_NadirConfig,\n  I_PolygonHotspotConfigGlobal,\n  I_Scene,\n  I_SettingControlMode,\n} from '@containers/Home/types';\nimport { separateColorAndTransparency } from '@utils/helper';\n// import Image from '@assets/img/Rectangle.png';\nimport { useCallback, useMemo } from 'react';\n\ninterface Props {\n  scene?: I_Scene;\n  krpanoId: string;\n}\n\nexport const useInternalFunction = ({ scene, krpanoId }: Props) => {\n  const _window = window as any;\n  const [, setZoomKrpano] = useZoomKrpano('zoom');\n  const [, setHLookatKrpano] = useHLookatKrpano('hlookat');\n  const [, setVLookatKrpano] = useVLookatKrpano('vlookat');\n\n  const sceneChilds = useMemo(\n    () =>\n      (\n        (scene?.mode === 'staging'\n          ? scene?.staging\n          : scene?.mode === 'day2dust'\n          ? scene?.day2dust\n          : []) || []\n      ).map(item => ({\n        ...item,\n        xml: item?.media?.krpano_xml || '',\n        urlTour:\n          item?.media?.src_preview ||\n          item?.media?.src_thumb ||\n          item?.media?.src,\n      })),\n    [scene],\n  );\n\n  const onTriggerChangeView = useCallback(() => {\n    _window[krpanoId].call(\n      `mod(cur_hlookat,${_window[krpanoId].get('view.hlookat')},360)`,\n    );\n    _window[krpanoId].call(\n      `mod(cur_Vlookat,${_window[krpanoId].get('view.vlookat')},360)`,\n    );\n\n    setHLookatKrpano(+_window[krpanoId].get('cur_hlookat'));\n    setVLookatKrpano(+_window[krpanoId].get('cur_Vlookat'));\n    _window[krpanoId].call('update_hotspot_visiblity()');\n  }, [_window, krpanoId, setHLookatKrpano, setVLookatKrpano]);\n\n  const onTriggerChangeZoom = useCallback(() => {\n    setZoomKrpano(+_window[krpanoId].get('view.fov'));\n  }, [_window, krpanoId, setZoomKrpano]);\n\n  const onTriggerLoadCompleted = useCallback(\n    (\n      isTurnOffFollowMode: boolean,\n      controlMode: I_SettingControlMode['mode'] = 'drag',\n    ) => {\n      if (scene?.media.subType !== 'flat')\n        _window[krpanoId].set('view.limitview', 'range');\n\n      setHLookatKrpano(\n        scene?.config?.default_view?.x ?? _window[krpanoId].get('view.hlookat'),\n      );\n      setVLookatKrpano(\n        scene?.config?.default_view?.y ?? _window[krpanoId].get('view.vlookat'),\n      );\n      setZoomKrpano(\n        scene?.config?.default_view?.zoom_lv ??\n          _window[krpanoId].get('view.fov'),\n      );\n\n      _window[krpanoId].set(\n        'showerrors',\n        process.env.NODE_ENV === 'development',\n      );\n      _window[krpanoId].set('logkey', process.env.NODE_ENV === 'development');\n      _window[krpanoId].set(\n        'debugmode',\n        process.env.NODE_ENV === 'development',\n      );\n\n      if (!isTurnOffFollowMode) _window[krpanoId].call(`followmouse_enable()`);\n      else _window[krpanoId].call(`followmouse_disable()`);\n\n      if (controlMode && controlMode !== 'drag') {\n        _window[krpanoId].set('control.mode', controlMode);\n        // _window[krpanoId].set('control.touch', controlMode);\n      }\n    },\n    [\n      scene,\n      _window,\n      krpanoId,\n      setZoomKrpano,\n      setHLookatKrpano,\n      setVLookatKrpano,\n    ],\n  );\n\n  const onApplyConfigPluginKrpanoForScene = useCallback(() => {\n    Object.entries(DEFAULT_CONFIG_SCENE_PLUGIN).forEach(\n      ([keyParent, valueParent]) => {\n        Object.entries(valueParent).forEach(([keyChild, valueChild]) => {\n          const value =\n            scene &&\n            scene?.configPlugin &&\n            scene?.configPlugin[keyParent] &&\n            scene?.configPlugin[keyParent][keyChild]\n              ? scene?.configPlugin[keyParent][keyChild]\n              : valueChild;\n          _window[krpanoId].set(`plugin[${keyParent}].${keyChild}`, value);\n        });\n      },\n    );\n  }, [_window, krpanoId, scene]);\n\n  /**\n   * ! SET DEFAULT VIEW, LIMIT VIEW, LIMIT ZOOM\n   */\n  const onRenderXmlKrpano = useCallback(\n    (isLittlePlanetView = false) => {\n      const transition =\n        scene?.config?.typeTransition === '3d'\n          ? 'OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)'\n          : scene?.config?.typeTransition;\n\n      let view = '';\n\n      const fovDefault = scene?.config?.isLittlePlanet\n        ? 170\n        : scene?.config?.default_view?.zoom_lv ??\n          (isLittlePlanetView ? 170 : 90);\n\n      if (scene?.media?.subType !== 'flat') {\n        view += '<view ';\n        if (isLittlePlanetView || scene?.config?.isLittlePlanet) {\n          view += `fov='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? 170\n              : fovDefault\n          }' fovmin='1' fovmax='179' hlookatmin='-180' hlookatmax='180' vlookatmin='-90' vlookatmax='90' vlookat='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? 90\n              : scene?.config?.default_view?.y ?? 90\n          }' hlookat='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? -60\n              : scene?.config?.default_view?.x ?? -60\n          }' stereographic='true' fisheye='1.0' fovtype='VFOV' limitview='lookat' /> <display flash10='off' detail='24' />`;\n        } else {\n          if (scene?.config?.default_view?.x !== undefined)\n            view += ` hlookat=\"${scene?.config?.default_view?.x}\"`;\n          if (scene?.config?.default_view?.y !== undefined)\n            view += ` vlookat=\"${scene?.config?.default_view?.y}\"`;\n          if (scene?.config?.default_view?.zoom_lv !== undefined)\n            view += ` fov=\"${\n              scene?.config?.typeTransition === '3d'\n                ? fovDefault + 30\n                : fovDefault\n            }\"`;\n          view += ` fovmin=\"${scene?.config?.zoom_limit?.min ?? 60.0}\"`;\n          view += ` fovmax=\"\n                ${scene?.config?.zoom_limit?.max ?? 150.0}\"`;\n          view += ' limitview=\"range\"';\n          view += ` hlookatmin=\"${scene?.config?.limit_view?.left ?? -180}\"`;\n          view += ` hlookatmax=\"${scene?.config?.limit_view?.right ?? 180}\"`;\n          view += ` vlookatmin=\"${scene?.config?.limit_view?.bottom ?? 90}\"`;\n          view += ` vlookatmax=\"${scene?.config?.limit_view?.top ?? -90}\"`;\n          view += ' />';\n        }\n\n        view += `${\n          scene?.configPlugin?.lensflare?.enabled &&\n          scene?.configPlugin?.lensflare?.ath &&\n          scene?.configPlugin?.lensflare?.atv\n            ? `<include url=\"%$mypath%/core/skin/lensflare.xml\" /> <lensflare_settings editor=\"false\" ath=\"${\n                scene?.configPlugin?.lensflare?.ath ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.ath\n              }\" atv=\"${\n                scene?.configPlugin?.lensflare?.atv ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.atv\n              }\" sun=\"${\n                scene?.configPlugin?.lensflare?.sun ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.sun\n              }\" glare=\"${\n                scene?.configPlugin?.lensflare?.glare ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.glare\n              }\" r_ring=\"${\n                scene?.configPlugin?.lensflare?.r_ring ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.r_ring\n              }\" exposure=\"true\" exposure_bias=\"${\n                scene?.configPlugin?.lensflare?.exposure_bias ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.exposure_bias\n              }\"/>\n                  <plugin name=\"pp_light\" devices=\"html5\" keep=\"false\" url=\"%$mypath%/core/plugins/pp_light.js\" enabled=\"true\" exposure=\"0.0\" lights=\"0.0\" shadows=\"0.0\" filterrange=\"60.0\" masking=\"1.0\" quality=\"7\" order=\"\" phase=\"2\" />`\n            : ''\n        }`;\n      }\n      return { view, transition, fovDefault };\n    },\n    [scene],\n  );\n\n  /**\n   * @param {hotspot}: info hotspot\n   * @method {trigger sound play (hotspot instructor / hotspot sound)}\n   * @method {add hotspot}\n   */\n\n  const onTriggerSoundHotspot = useCallback(\n    (hotspot: I_Hotspot, isAllowTriggerSound: boolean) => {\n      if (_window[krpanoId] && isAllowTriggerSound) {\n        const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n          hotspot.polygon ? 'ispolygon' : 'unpolygon'\n        }`;\n        if (hotspot.type === 'sound') {\n          const xml = `sound1click(${name}, ${\n            hotspot?.config?.sound?.file?.src || hotspot?.config?.sound?.url\n          }, ${hotspot?.config?.sound?.action || 'pause'}, ${\n            hotspot.config?.sound?.volume\n              ? (hotspot.config.sound.volume / 100).toFixed(1)\n              : 0.4\n          }, ${\n            hotspot?.config?.sound?.reach\n              ? hotspot.config.sound.reach.toFixed(1)\n              : 240\n          }, ${hotspot?.config?.sound?.auto_play || false}, ${\n            hotspot?.config?.sound?.loop || false\n          })`;\n          _window[krpanoId].call(xml);\n        } else if (hotspot.type === 'instructor') {\n          _window[krpanoId].call(`hotspot[${name}].togglepause()`);\n          _window[krpanoId].set(\n            `hotspot['${name}'].muted`,\n            !isAllowTriggerSound,\n          );\n        }\n      }\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotNadirKrpano = useCallback(\n    (nadirConfig: I_NadirConfig) => {\n      const krpano = _window[krpanoId];\n\n      const name = 'nadirlogo';\n      krpano.set(`hotspot['${name}'].ath`, +0);\n      krpano.set(`hotspot['${name}'].atv`, +90);\n      krpano.set(`hotspot['${name}'].zoom`, false);\n      krpano.set(`hotspot['${name}'].rotate`, 0);\n      krpano.set(`hotspot['${name}'].scale`, nadirConfig?.scale || 1);\n      krpano.set(`hotspot['${name}'].rotatewithview`, 'true');\n      krpano.set(`hotspot['${name}'].distorted`, true);\n      krpano.set(`hotspot['${name}'].url`, nadirConfig?.src || '');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        !!(nadirConfig?.isEnabled && nadirConfig?.src),\n      );\n      if (nadirConfig?.link)\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          window.open(nadirConfig?.link, '_blank');\n        });\n\n      if (nadirConfig?.isEnabled && nadirConfig?.src)\n        krpano.call(`addhotspot('${name}')`);\n    },\n    [_window, krpanoId],\n  );\n\n  const onBackNormalViewFromLittlePlanetView = useCallback(() => {\n    setTimeout(() => {\n      _window[krpanoId].call(\n        `normalview(${scene?.config?.default_view?.x || 0}, ${\n          scene?.config?.default_view?.y || 0\n        }, ${scene?.config?.default_view?.zoom_lv || 90}, ${scene?.config\n          ?.timeTransitionLittlePlanet})`,\n      );\n      setTimeout(\n        () => {\n          _window[krpanoId].set(\n            'view.fovmin',\n            scene?.config?.zoom_limit?.min ?? 60.0,\n          );\n          _window[krpanoId].set(\n            'view.fovmax',\n            scene?.config?.zoom_limit?.max ?? 150.0,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmin',\n            scene?.config?.limit_view?.left ?? -180,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmax',\n            scene?.config?.limit_view?.right ?? 180,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmin',\n            scene?.config?.limit_view?.bottom ?? 90,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmax',\n            scene?.config?.limit_view?.top ?? -90,\n          );\n          _window[krpanoId].call(\n            `tween(view.tx|view.ty|view.tz|view.ox|view.oy|view.oz|view.fisheye, calc(''+image.ox+'|'+image.oy+'|'+image.oz+'|0|0|0|0'), 0.1, default)`,\n          );\n        },\n        (scene?.config?.timeTransitionLittlePlanet || 2) * 1000 + 100,\n      );\n    }, 200);\n  }, [_window, krpanoId, scene]);\n\n  const onAddHotspotVRKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }-vrmode`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(\n        `hotspot['${name}'].url`,\n\n        hotspot?.config?.style?.type === 'image' &&\n          hotspot?.config?.style?.image?.src\n          ? hotspot?.config?.style?.image?.src\n          : hotspot.type === 'point'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/point.png`\n          : hotspot.type === 'image'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/image.png`\n          : hotspot.type === 'sound'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/sound.png`\n          : `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/video.png`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n      krpano.set(`hotspot['${name}'].width`, '32');\n      krpano.set(`hotspot['${name}'].height`, '32');\n      krpano.set(`hotspot['${name}'].imagewidth`, '24');\n      krpano.set(`hotspot['${name}'].imageheight`, '24');\n      krpano.set(`hotspot['${name}'].depth`, '1000');\n      krpano.set(`hotspot['${name}'].scale`, 1);\n      krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n      krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n      krpano.set(\n        `hotspot['${name}'].onover`,\n        'tween(scale,1.5,easeOutExpo,0.2);',\n      );\n      krpano.set(`hotspot['${name}'].onout`, 'tween(scale,1,easeOutExpo,0.2);');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(\n        `hotspot['${name}'].enabled`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(`hotspot['${name}'].align`, 'center');\n      krpano.set(`hotspot['${name}'].zoom`, true);\n\n      const nameTitle = `hotspot-${hotspot.id}-${krpanoId}-type${\n        hotspot.type\n      }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}-title-vrmode`;\n      krpano.set(`hotspot['${nameTitle}'].type`, 'text');\n      krpano.set(`hotspot['${nameTitle}'].scale`, '0.1');\n      krpano.set(`hotspot['${nameTitle}'].zoom`, true);\n      krpano.set(`hotspot['${nameTitle}'].align`, 'center');\n      krpano.set(`hotspot['${nameTitle}'].css`, 'font-size:12px;color:#ffffff');\n      krpano.set(`hotspot['${nameTitle}'].html`, hotspot.title);\n      krpano.set(`hotspot['${nameTitle}'].bg`, true);\n      krpano.set(`hotspot['${nameTitle}'].bgcolor`, '#000000');\n      krpano.set(`hotspot['${nameTitle}'].bgalpha`, '0.5');\n      krpano.set(`hotspot['${nameTitle}'].ath`, hotspot.ath);\n      krpano.set(`hotspot['${nameTitle}'].atv`, hotspot.atv - 3);\n      krpano.set(\n        `hotspot['${nameTitle}'].visible`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(\n        `hotspot['${nameTitle}'].enabled`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(`hotspot['${nameTitle}'].depth`, '100.0');\n\n      return { krpano, name, nameTitle };\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot, keepHotspotPositionWhenZooming = false) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }`;\n      krpano.set(`hotspot['${name}'].styleType`, hotspot.config?.style?.type);\n      krpano.set(`hotspot['${name}'].name`, name);\n      // krpano.set(`hotspot['${name}'].keep`, 'true');\n      krpano.set(`hotspot['${name}'].zoom`, !!keepHotspotPositionWhenZooming);\n      krpano.set(`hotspot['${name}'].capture`, 'true');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        hotspot.type !== 'chevron'\n          ? !krpano.get('webvr.isenabled') ?? true\n          : true,\n      );\n      krpano.set(\n        `hotspot['${name}'].enabled`,\n        hotspot.type !== 'chevron'\n          ? !krpano.get('webvr.isenabled') ?? true\n          : true,\n      );\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n\n      function onConfigHotspotPolygon(\n        polygonHotspotConfigGlobal: I_PolygonHotspotConfigGlobal,\n      ) {\n        krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n        const config = hotspot.polygon_config;\n        const fillColor = separateColorAndTransparency(\n          config?.properties?.fillColor ||\n            polygonHotspotConfigGlobal?.fillColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColor,\n        );\n        const fillColorHover = separateColorAndTransparency(\n          config?.properties?.fillColorHover ||\n            polygonHotspotConfigGlobal?.fillColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColorHover,\n        );\n        const borderColor = separateColorAndTransparency(\n          config?.properties?.borderColor ||\n            polygonHotspotConfigGlobal?.borderColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColor,\n        );\n        const borderColorHover = separateColorAndTransparency(\n          config?.properties?.borderColorHover ||\n            polygonHotspotConfigGlobal?.borderColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColorHover,\n        );\n        krpano.set(\n          `hotspot[${name}].fillcolor`,\n          fillColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].bordercolor`,\n          borderColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].borderwidth`,\n          config?.properties?.borderWidth ||\n            polygonHotspotConfigGlobal?.borderWidth ||\n            3,\n        );\n        krpano.set(`hotspot[${name}].fillalpha`, fillColor.alpha);\n        krpano.set(`hotspot[${name}].borderalpha`, borderColor.alpha);\n\n        krpano.set(`hotspot[${name}].tooltip`, hotspot.title);\n        krpano.set(`hotspot[${name}].zorder`, 1);\n\n        krpano.set(`hotspot[${name}].onhover`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColorHover.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${\n                borderColorHover.alpha\n              }, 0.2);`,\n          );\n        });\n        krpano.set(`hotspot[${name}].onout`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${borderColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `copy(layer[tooltip].html, );tween(layer[tooltip].alpha, 0.0, 0.25, default, set(layer[tooltip].visible,false), copy(layer[tooltip].x,mouse.stagex); copy(layer[tooltip].y,mouse.stagey); );`,\n          );\n        });\n\n        krpano.call(`hotspot[${name}].loadstyle(poly_hotspot_text)`);\n\n        if (config?.points?.length)\n          for (let i = 0; i < config?.points.length; i += 1) {\n            const coordinate = config?.points[i];\n            krpano.set(`hotspot[${name}].point[${i}].ath`, coordinate.ath);\n            krpano.set(`hotspot[${name}].point[${i}].atv`, coordinate.atv);\n          }\n      }\n\n      function onConfigHotspotMedia() {\n        krpano.set(`hotspot['${name}'].distorted`, 'true');\n        krpano.set(`hotspot['${name}'].rx`, '0');\n        krpano.set(`hotspot['${name}'].ry`, '0');\n        krpano.set(`hotspot['${name}'].rz`, '0');\n        krpano.set(`hotspot['${name}'].cursor`, 'unset');\n        krpano.set(`hotspot['${name}'].capture`, false);\n\n        krpano.set(`hotspot['${name}'].usecontentsize`, 'true');\n      }\n\n      function onConfigHotspotInstructor(isAllowTriggerSound: boolean) {\n        krpano.set(\n          `hotspot['${name}'].url`,\n          '%$mypath%/core/plugins/videoplayer.js',\n        );\n        krpano.set(\n          `hotspot['${name}'].videourl`,\n          hotspot.config?.instructor?.media?.src,\n        );\n        krpano.set(`hotspot['${name}'].renderer`, 'auto');\n        krpano.set(`hotspot['${name}'].distorted`, true);\n        krpano.set(`hotspot['${name}'].zoom`, false);\n        krpano.set(`hotspot['${name}'].autoresume`, true);\n        krpano.set(`hotspot['${name}'].muted`, !isAllowTriggerSound);\n        if (!isAllowTriggerSound)\n          krpano.set(`hotspot['${name}'].pausedonstart`, true);\n        else\n          krpano.set(\n            `hotspot['${name}'].pausedonstart`,\n            hotspot.config?.instructor?.paused_on_start ??\n              DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.paused_on_start,\n          );\n        krpano.set(\n          `hotspot['${name}'].loop`,\n          hotspot.config?.instructor?.loop ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.loop,\n        );\n        krpano.set(\n          `hotspot['${name}'].directionalsound`,\n          hotspot.config?.instructor?.sound_360 ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.sound_360,\n        );\n        krpano.set(\n          `hotspot['${name}'].volume`,\n          hotspot.config?.instructor?.volume ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.volume,\n        );\n        const maskColor = separateColorAndTransparency(\n          hotspot.config?.instructor?.mask ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.mask,\n        );\n        krpano.set(\n          `hotspot[${name}].chromakey`,\n          `${maskColor.color.replace('#', '0x')}|${\n            hotspot.config?.instructor?.smoothing ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.smoothing\n          }|${\n            hotspot.config?.instructor?.threshold ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.threshold\n          }`,\n        );\n        const width =\n          hotspot.config?.instructor?.width ??\n          DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.width;\n        krpano.set(`hotspot['${name}'].width`, width);\n        const height =\n          hotspot.config?.instructor?.height ??\n          DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.height;\n        krpano.set(`hotspot['${name}'].height`, height);\n      }\n\n      return {\n        name,\n        krpano,\n        onConfigHotspotMedia,\n        onConfigHotspotPolygon,\n        onConfigHotspotInstructor,\n      };\n    },\n    [krpanoId, _window],\n  );\n\n  const onAddCommentSceneIconUtils = useCallback(\n    (\n      commentScene: Partial<I_CommentScene>,\n      isCommentSceneTemporary = false,\n    ) => {\n      const krpano = _window[krpanoId];\n      const name = `commentscene-${commentScene?.id}-${krpanoId}${\n        isCommentSceneTemporary ? '-temporary' : ''\n      }`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      if (scene?.media.subType !== 'flat') {\n        krpano.set(`hotspot['${name}'].capture`, false);\n        krpano.set(`hotspot['${name}'].zoom`, true);\n      }\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n      krpano.set(`hotspot['${name}'].ath`, +(commentScene?.ath ?? 0));\n      krpano.set(`hotspot['${name}'].atv`, +(commentScene?.atv ?? 0));\n      krpano.set(\n        `hotspot['${name}'].url`,\n        `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n      return { krpano, name };\n    },\n    [_window, scene, krpanoId],\n  );\n\n  return useMemo(\n    () => ({\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onBackNormalViewFromLittlePlanetView,\n      onApplyConfigPluginKrpanoForScene,\n    }),\n    [\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onBackNormalViewFromLittlePlanetView,\n      onApplyConfigPluginKrpanoForScene,\n    ],\n  );\n};\n","import { openMessageWithIcon } from './helper';\n\ninterface DocumentWithFullscreen extends HTMLDocument {\n  mozFullScreenElement?: Element;\n  msFullscreenElement?: Element;\n  webkitFullscreenElement?: Element;\n  msExitFullscreen?: () => void;\n  mozCancelFullScreen?: () => void;\n  webkitExitFullscreen?: () => void;\n}\n\nexport function isSupportFullScreen(): boolean {\n  const body = document.body as DocumentElementWithFullscreen;\n  if (\n    body.requestFullscreen ||\n    body.msRequestFullscreen ||\n    body.webkitRequestFullscreen ||\n    body.mozRequestFullScreen\n  )\n    return true;\n  return false;\n}\n\nexport function isFullScreen(): boolean {\n  const doc = document as DocumentWithFullscreen;\n  return !!(\n    doc.fullscreenElement ||\n    doc.mozFullScreenElement ||\n    doc.webkitFullscreenElement ||\n    doc.msFullscreenElement\n  );\n}\n\ninterface DocumentElementWithFullscreen extends HTMLElement {\n  msRequestFullscreen?: () => void;\n  mozRequestFullScreen?: () => void;\n  webkitRequestFullscreen?: () => void;\n}\n\nexport function requestFullScreen(element: DocumentElementWithFullscreen) {\n  console.log(\n    '🚀 ~ file: fullscreen.ts:27 ~ requestFullScreen ~ element:',\n    element,\n  );\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else {\n    openMessageWithIcon(\n      'error',\n      'Your browser does not support fullscreen mode',\n    );\n  }\n}\n\nexport function exitFullScreen(doc: DocumentWithFullscreen) {\n  if (doc.exitFullscreen) {\n    doc.exitFullscreen();\n  } else if (doc.msExitFullscreen) {\n    doc.msExitFullscreen();\n  } else if (doc.webkitExitFullscreen) {\n    doc.webkitExitFullscreen();\n  } else if (doc.mozCancelFullScreen) {\n    doc.mozCancelFullScreen();\n  }\n}\n\nexport function toogleFullScreen(): void {\n  if (!isFullScreen()) {\n    requestFullScreen(document.body);\n  } else {\n    exitFullScreen(document);\n  }\n}\n","/* eslint-disable global-require */\nimport { I_CommentScene, I_Hotspot, I_Scene } from '@containers/Home/types';\nimport {\n  debounce,\n  generateRandomID,\n  isServer,\n  isValidHttpUrl,\n  separateColorAndTransparency,\n} from '@utils/helper';\nimport { renderToString } from 'react-dom/server';\nimport { Root, createRoot } from 'react-dom/client';\nimport React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useState,\n  memo,\n  useImperativeHandle,\n  useRef,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport {\n  selectConfigProjectionModeProject,\n  selectConfigControlModeProject,\n  selectConfigScreenshotCapture,\n  selectHotspotConfigGlobal,\n  selectPolygonConfigGlobal,\n  selectListPostUsedOnTour,\n  selectLanguageProject,\n  selectIsFirstScene,\n  selectDollhouseConfigGlobal,\n  selectTenant,\n} from '@containers/Home/selectors';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport { useCommentScene } from '@containers/Home/hook/useCommentScene';\nimport CommentSceneIcon, {\n  TypeRefCommentSceneIcon,\n} from '@containers/Home/components/Collaboration/CommentScene/CommentSceneIcon';\nimport HotspotMedia, {\n  TypeRefHotspotMedia,\n} from '@components/Hotspot/HotspotMedia';\nimport KRPANO from './KrpanoTemplate';\nimport { IPropKrpano, Type_RefFuncKrpano } from './types';\nimport { useInternalFunction } from './useInternalFunction';\nimport { BG_COLOR_DOLLHOUSE_DEFAULT } from '@containers/Home/constants';\nimport { toogleFullScreen } from '@utils/fullscreen';\n\nconst Hotspot = dynamic(() => import('@components/Hotspot'));\nconst HotspotCompact = dynamic(\n  () => import('@components/Hotspot/HotspotCompact'),\n);\nconst _window = isServer ? undefined : (window as any);\n\nconst KrpanoViewer = forwardRef(\n  (\n    {\n      scene,\n      listScene = [],\n      urlTour,\n      divId = 'container',\n      krpanoId = 'krpanoContainer',\n      dollhouseXml = '',\n      onClickHotspot,\n      onChangeAutoChangeScene,\n      isLoaded,\n      setIsLoaded,\n      nadirConfig,\n      children,\n      styleContainer = { height: '100%' },\n      isTurnOffFollowMode = false,\n      onChangeScene,\n    }: IPropKrpano,\n    ref: React.Ref<Type_RefFuncKrpano>,\n  ) => {\n    const isLoadedRef = useRef(false);\n    const isAllowTriggerSoundRef = useRef(false);\n    const containerRef = useRef<HTMLDivElement>(null!);\n    // NOTE: store to control close/unmount popover when change scene/commentScene\n    const listCommentSceneIconRef = useRef<\n      Map<string, TypeRefCommentSceneIcon>\n    >(new Map([]));\n    const listCommentSceneIconRootRef = useRef<Map<string, Root>>(new Map([]));\n    // NOTE: store to control volume (mute/unmute) on hotspot media video\n    const listHotspotMediaVideoRef = useRef<Map<string, TypeRefHotspotMedia>>(\n      new Map([]),\n    );\n\n    const tenant = useSelector(selectTenant);\n    const isFirstScene = useSelector(selectIsFirstScene);\n    const listPost = useSelector(selectListPostUsedOnTour);\n    const languageProject = useSelector(selectLanguageProject);\n    const hotspotConfigGlobal = useSelector(selectHotspotConfigGlobal);\n    const dollhouseConfigGlobal = useSelector(selectDollhouseConfigGlobal);\n    const polygonHotspotConfigGlobal = useSelector(selectPolygonConfigGlobal);\n    const configControlModeProject = useSelector(\n      selectConfigControlModeProject,\n    );\n    const configProjectionModeProject = useSelector(\n      selectConfigProjectionModeProject,\n    );\n    const configScreenshotCapture = useSelector(selectConfigScreenshotCapture);\n\n    const [krpanoView, setKrpanoView] = useState<any>();\n    const [isAllowTriggerSound, setIsAllowTriggerSound] = useState(false);\n\n    const { onCreateCommentScene, onUpdateCommentScene, onDeleteCommentScene } =\n      useCommentScene();\n    const [, setIsShowDialogCreateCommentScene] = useCollaborationMode(\n      'isShowDialogCreateCommentScene',\n    );\n    const [, setCommentSceneTemporary] = useCollaborationMode(\n      'commentSceneTemporary',\n    );\n    const [, setCommentSelected] = useCollaborationMode('commentSceneSelected');\n\n    const {\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onApplyConfigPluginKrpanoForScene,\n      onBackNormalViewFromLittlePlanetView,\n    } = useInternalFunction({\n      scene,\n      krpanoId,\n    });\n\n    // NOTE: use ref to store state because function used in event onclick hotspot (state won't update on event's function)\n    useEffect(() => {\n      isAllowTriggerSoundRef.current = isAllowTriggerSound;\n    }, [isAllowTriggerSound]);\n\n    // NOTE: reset state when scene change => only trigger sound when isAllowTriggerSound = true\n\n    /**\n     * SECTION: LOAD_SCENE_TO_KRPANO\n     * @param {scene}: current scene selected\n     * @param {sceneXml}: default by null, use krpano_xml on media if exist.\n     */\n\n    const loadSceneToView = useCallback(\n      (myscene: I_Scene) => {\n        if (myscene && myscene.media && krpanoView) {\n          const { transition, view, fovDefault } = onRenderXmlKrpano(\n            configProjectionModeProject?.mode === 'little_planet',\n          );\n\n          const bgColorDollhouse = separateColorAndTransparency(\n            dollhouseConfigGlobal?.bgColor || BG_COLOR_DOLLHOUSE_DEFAULT,\n          );\n\n          _window[krpanoId].set(\n            'dollhouse_bg_color',\n            bgColorDollhouse.color.replace('#', '0x'),\n          );\n\n          if (isFirstScene && !!dollhouseConfigGlobal?.isShowOnStart)\n            _window[krpanoId].call('hideHTML()');\n\n          krpanoView.loadScene(\n            urlTour,\n            null,\n            myscene.media.krpano_xml || null,\n            transition,\n            view,\n            myscene.mode || '',\n            sceneChilds,\n            myscene.configStaging || {},\n            fovDefault,\n            myscene.media.subType,\n            dollhouseXml,\n            isFirstScene && !!dollhouseConfigGlobal?.isShowOnStart,\n          );\n        }\n      },\n      [\n        urlTour,\n        krpanoId,\n        krpanoView,\n        sceneChilds,\n        dollhouseXml,\n        isFirstScene,\n        onRenderXmlKrpano,\n        dollhouseConfigGlobal?.bgColor,\n        configProjectionModeProject?.mode,\n        dollhouseConfigGlobal?.isShowOnStart,\n      ],\n    );\n\n    /**\n     * !SECTION: END_LOAD_SCENE_TO_KRPANO\n     */\n\n    const onAddHotspotVRKrpano = useCallback(\n      async (hotspot: I_Hotspot) => {\n        const { krpano, name, nameTitle } = onAddHotspotVRKrpanoUtils(hotspot);\n        const onClick = () => {\n          if (hotspot.type === 'point') onClickHotspot({ hotspot });\n          else if (hotspot.type === 'sound')\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          else if (hotspot.type === 'image')\n            krpano.call(\n              `open_galleries(\"${name}\", \"${(\n                hotspot.config?.image?.galleries || []\n              )\n                .map(item => item.src)\n                .join(',')}\")`,\n            );\n          else if (hotspot.type === 'video')\n            krpano.call(\n              `open_video(\"${name}\", \"${hotspot?.config?.video?.url}\")`,\n            );\n        };\n        krpano.set(`hotspot['${name}'].onclick`, onClick);\n        krpano.set(`hotspot['${nameTitle}'].onclick`, onClick);\n\n        krpano.call(`addhotspot('${nameTitle}')`);\n        krpano.call(`addhotspot('${name}')`);\n\n        return new Promise(resolve => resolve(true));\n      },\n      [onAddHotspotVRKrpanoUtils, onClickHotspot, onTriggerSoundHotspot],\n    );\n\n    const onAddHotspotKrpano = useCallback(\n      async (hotspot: I_Hotspot, isReloadHotspot = false) => {\n        const {\n          name,\n          krpano,\n          onConfigHotspotMedia,\n          onConfigHotspotPolygon,\n          onConfigHotspotInstructor,\n        } = onAddHotspotKrpanoUtils(\n          hotspot,\n          scene?.media.subType === 'flat'\n            ? true\n            : !!hotspotConfigGlobal?.keepHotspotPositionWhenZooming,\n        );\n\n        if (scene?.media.subType === 'flat')\n          krpano.set(`hotspot['${name}'].scale`, 0.01);\n\n        async function renderHotspot() {\n          const hs = krpano.get(`hotspot[${name}]`);\n          const contentString = (\n            <div\n              id={name}\n              className={`inline-flex ${\n                hotspotConfigGlobal?.lockHotspot &&\n                (hotspot.type !== 'media' ||\n                  hotspot.config?.media?.type !== 'media-image')\n                  ? 'absolute-center'\n                  : ''\n              }`}\n            />\n          );\n          // krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          // krpano.set(`hotspot['${name}'].type`, 'html');\n          // krpano.set(`hotspot['${name}'].htmloverflow`, 'visible');\n          // hs.html = renderToString(contentString).toString();\n          hs['sprite'].innerHTML = renderToString(contentString).toString();\n          const node = document.getElementById(name);\n          if (node) {\n            const root = createRoot(node);\n            root.render(\n              hotspot.type === 'media' ? (\n                <HotspotMedia\n                  ref={r => {\n                    if (\n                      r &&\n                      hotspot.config?.media?.type === 'media-video' &&\n                      !listHotspotMediaVideoRef.current.get(hotspot.id)\n                    )\n                      listHotspotMediaVideoRef.current.set(hotspot.id, r);\n                  }}\n                  onClickHotspot={onClickHotspot}\n                  isSoundOn={isAllowTriggerSoundRef.current}\n                  hotspot={hotspot}\n                  listPost={listPost}\n                />\n              ) : hotspot.type === 'compact' ? (\n                <HotspotCompact\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  languageSelected={languageProject}\n                  onClick={({ type, config }) => {\n                    const newHotspot = {\n                      ...hotspot,\n                      config: { ...hotspot.config },\n                    };\n                    if (type) newHotspot.type = type;\n                    if (config) newHotspot.config[type] = config;\n                    onClickHotspot({ hotspot: newHotspot });\n                  }}\n                />\n              ) : (\n                <Hotspot\n                  onClick={() => {\n                    if (hotspot.config?.sound !== undefined)\n                      onTriggerSoundHotspot(\n                        hotspot,\n                        isAllowTriggerSoundRef.current,\n                      );\n                    else if (\n                      hotspot.type === 'point' &&\n                      hotspot.config?.point?.isTransition &&\n                      hotspot.config?.point?.typeTransition === '3d'\n                    ) {\n                      krpano.call(`transition_click(${name})`);\n                      setTimeout(() => {\n                        // if (hotspot.config?.sound !== undefined)\n                        //   onTriggerSoundHotspot(\n                        //     hotspot,\n                        //     isAllowTriggerSoundRef.current,\n                        //   );\n                        // else\n                        onClickHotspot({ hotspot });\n                      }, 100);\n                    } else onClickHotspot({ hotspot });\n                  }}\n                  isHidden={\n                    hotspot.type === 'sound' && !hotspot.config?.sound?.action\n                  }\n                  isHideTitleGlobal={!!hotspotConfigGlobal?.hideTitle}\n                  isHidePreviewGlobal={!!hotspotConfigGlobal?.hidePreview}\n                  isHideTitleOnTopGlobal={\n                    !!hotspotConfigGlobal?.hideTitleOnTopHotspot\n                  }\n                  bgColorDefault={hotspotConfigGlobal?.bgColor}\n                  iconColorDefault={hotspotConfigGlobal?.iconColor}\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  listPost={listPost}\n                  onChangePopover={visible => onChangeAutoChangeScene(!visible)}\n                />\n              ),\n            );\n          }\n        }\n\n        if (hotspot.polygon && hotspot.polygon_config) {\n          onConfigHotspotPolygon(polygonHotspotConfigGlobal);\n          krpano.set(`hotspot['${name}'].onclick`, () => {\n            if (krpano.get('webvr.isenabled')) {\n              if (hotspot.type === 'point') onClickHotspot({ hotspot });\n              else if (hotspot.type === 'image')\n                krpano.call(\n                  `open_galleries(\"${name}\", \"${(\n                    hotspot.config?.image?.galleries || []\n                  ).map(item => item.src)}\")`,\n                );\n              else if (hotspot.type === 'video')\n                krpano.call(\n                  `open_video(\"${name}\", \"${\n                    hotspot.config?.video?.url || ''\n                  }\")`,\n                );\n            } else {\n              onClickHotspot({ hotspot });\n            }\n          });\n        } else if (!hotspot.polygon) {\n          krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n          krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n          krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          if (hotspot.type === 'chevron') {\n            krpano.set(`hotspot['${name}'].style`, 'skin_hotspotstyle');\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              if (\n                hotspot.config?.chevron?.isTransition &&\n                hotspot.config?.chevron?.typeTransition === '3d'\n              ) {\n                krpano.call(`transition_click(${name})`);\n                setTimeout(() => {\n                  onClickHotspot({ hotspot });\n                }, 100);\n              } else onClickHotspot({ hotspot });\n            });\n          }\n          if (hotspot.type === 'media') onConfigHotspotMedia();\n          if (\n            hotspot.type === 'instructor' &&\n            hotspot.config?.instructor?.media?.src\n          ) {\n            onConfigHotspotInstructor(isAllowTriggerSoundRef.current);\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n            });\n          } else {\n            krpano.set(\n              `hotspot['${name}'].url`,\n              `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n            );\n            krpano.set(`hotspot['${name}'].width`, 1);\n            krpano.set(`hotspot['${name}'].height`, 1);\n            krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          }\n\n          await krpano.set(`hotspot['${name}'].onloaded`, async () => {\n            if (hotspot.type !== 'chevron' && hotspot.type !== 'instructor') {\n              renderHotspot();\n            }\n          });\n        }\n\n        if (!isReloadHotspot) krpano.call(`addhotspot('${name}')`);\n        else if (!hotspot.polygon) renderHotspot();\n\n        return new Promise(resolve => resolve(true));\n      },\n      [\n        scene,\n        listPost,\n        listScene,\n        onClickHotspot,\n        languageProject,\n        hotspotConfigGlobal,\n        onTriggerSoundHotspot,\n        onChangeAutoChangeScene,\n        onAddHotspotKrpanoUtils,\n        polygonHotspotConfigGlobal,\n      ],\n    );\n\n    /**\n     * SECTION: COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    const renderHTMLCommentSceneIcon = useCallback(\n      async (krpano, name, commentScene: I_CommentScene) => {\n        const hs = krpano.get(`hotspot[${name}]`);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].onDragend`, () => {\n            const newData = {\n              ath: krpano.get(`hotspot['${name}'].ath`),\n              atv: krpano.get(`hotspot['${name}'].atv`),\n            };\n            if (\n              Math.abs(Math.abs(commentScene.ath) - Math.abs(newData.ath)) <\n                0.0001 &&\n              Math.abs(Math.abs(commentScene.atv) - Math.abs(newData.atv)) <\n                0.0001\n            ) {\n              console.log('not trigger event');\n            } else\n              onUpdateCommentScene({\n                ...commentScene,\n                ...newData,\n                message: undefined,\n                isResolved: undefined,\n                scene_id: commentScene.scene,\n              });\n          });\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          setCommentSelected(commentScene);\n        });\n        let node = document.getElementById(name);\n        if (node) {\n          // NOTE: close all popover active on screen\n          // NOTE: unmount old component when replace (fixed bug: 2 popover show same time)\n          if (\n            listCommentSceneIconRef.current.size &&\n            listCommentSceneIconRef.current.get(commentScene.id)\n          )\n            listCommentSceneIconRef.current?.get(commentScene?.id)?.onClose();\n\n          if (listCommentSceneIconRootRef.current.size) {\n            const root = listCommentSceneIconRootRef.current.get(\n              `${commentScene.id}_root`,\n            );\n            if (root) await root.unmount();\n          }\n        }\n        const contentString = <div id={name} className=\"inline-flex\" />;\n        hs.sprite.innerHTML = renderToString(contentString).toString();\n        node = document.getElementById(name);\n        if (node) {\n          const root = createRoot(node);\n          listCommentSceneIconRootRef.current.set(\n            `${commentScene.id}_root`,\n            root,\n          );\n          root.render(\n            <CommentSceneIcon\n              ref={r => {\n                if (r) listCommentSceneIconRef.current.set(commentScene.id, r);\n              }}\n              commentScene={commentScene}\n              onCreateCommentScene={onCreateCommentScene}\n              onUpdateCommentScene={onUpdateCommentScene}\n              onDeleteCommentScene={onDeleteCommentScene}\n            />,\n          );\n        }\n      },\n      [\n        setCommentSelected,\n        onCreateCommentScene,\n        onDeleteCommentScene,\n        onUpdateCommentScene,\n      ],\n    );\n\n    const onAddCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene, isReloadHTML = false) => {\n        const { krpano, name } = onAddCommentSceneIconUtils(commentScene);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].ondown`, 'draghotspot()');\n        krpano.set(`hotspot['${name}'].onloaded`, () => {\n          renderHTMLCommentSceneIcon(krpano, name, commentScene);\n        });\n        if (!isReloadHTML) krpano.call(`addhotspot('${name}')`);\n        else renderHTMLCommentSceneIcon(krpano, name, commentScene);\n      },\n      [renderHTMLCommentSceneIcon, onAddCommentSceneIconUtils],\n    );\n\n    const onRemoveCommentSceneKrpano = useCallback(\n      id =>\n        _window[krpanoId].call(\n          `removehotspot('commentscene-${id}-${krpanoId}')`,\n        ),\n      [krpanoId],\n    );\n\n    const onReplaceCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene) =>\n        onAddCommentSceneKrpano(commentScene, true),\n      [onAddCommentSceneKrpano],\n    );\n\n    /**\n     * !SECTION: END_COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    /**\n     * SECTION: LISTEN EVENT\n     */\n    const onReloadAllHotspots = useCallback(\n      (hotspots: I_Hotspot[] = [], isReload = false) => {\n        hotspots?.map(item => onAddHotspotKrpano(item, isReload));\n      },\n      [onAddHotspotKrpano],\n    );\n\n    const onChangeView = debounce(() => onTriggerChangeView(), 150);\n\n    const onChangeZoom = debounce(() => onTriggerChangeZoom(), 150);\n\n    const onLoadNewSceneVR = useCallback(() => {\n      const sceneId = _window[krpanoId].get('sceneId');\n      if (sceneId) {\n        if (scene?.id === sceneId && !isFirstScene)\n          window[krpanoId].call('reset_view()');\n        else onChangeScene(sceneId);\n      }\n    }, [isFirstScene, krpanoId, onChangeScene, scene?.id]);\n\n    const onLoadComplete = useCallback(async () => {\n      if (scene && !isLoadedRef.current) {\n        if (!isFirstScene || !dollhouseConfigGlobal?.isShowOnStart) {\n          onApplyConfigPluginKrpanoForScene();\n\n          if (\n            isFirstScene &&\n            scene?.config?.isLittlePlanet &&\n            scene.media.subType !== 'flat' &&\n            configProjectionModeProject?.mode !== 'little_planet'\n          )\n            onBackNormalViewFromLittlePlanetView();\n          if (\n            !scene?.config?.isLittlePlanet &&\n            configProjectionModeProject?.mode !== 'little_planet'\n          )\n            _window[krpanoId].call(\n              `tween(view.tx|view.ty|view.tz|view.ox|view.oy|view.oz|view.fisheye, calc(''+image.ox+'|'+image.oy+'|'+image.oz+'|0|0|0|0'), 0.1, default)`,\n            );\n\n          onTriggerLoadCompleted(\n            isTurnOffFollowMode || scene.media.subType === 'flat',\n            configControlModeProject.mode || 'drag',\n          );\n\n          scene.media.subType !== 'flat' &&\n            nadirConfig &&\n            onAddHotspotNadirKrpano(nadirConfig);\n\n          if (scene?.hotspots)\n            for (let i = 0; i < scene.hotspots.length; i++) {\n              const hotspot = scene.hotspots[i];\n              if (\n                hotspot.polygon ||\n                hotspot.type === 'chevron' ||\n                !_window[krpanoId].get('webvr.isenabled')\n              )\n                await onAddHotspotKrpano(hotspot);\n              if (\n                !hotspot.polygon &&\n                (hotspot.type === 'point' ||\n                  (hotspot.type === 'video' &&\n                    hotspot.config?.video?.url?.endsWith('.mp4')) ||\n                  (hotspot.type === 'sound' && hotspot.config?.sound?.action) ||\n                  hotspot.type === 'image')\n              )\n                await onAddHotspotVRKrpano(hotspot);\n            }\n        }\n        // NOTE: init garrows plugin\n        // _window[krpanoId].call('hide_hotspots_no_vr()');\n        _window[krpanoId].call('garrows_init()');\n        isLoadedRef.current = true;\n        setIsLoaded(true);\n      }\n    }, [\n      scene,\n      krpanoId,\n      setIsLoaded,\n      nadirConfig,\n      isFirstScene,\n      onAddHotspotKrpano,\n      isTurnOffFollowMode,\n      onAddHotspotVRKrpano,\n      dollhouseConfigGlobal,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      configControlModeProject.mode,\n      configProjectionModeProject?.mode,\n      onApplyConfigPluginKrpanoForScene,\n      onBackNormalViewFromLittlePlanetView,\n    ]);\n\n    const onTriggerCreateCommentSceneKrpano = useCallback(() => {\n      const x = _window[krpanoId].get('mouse.clickx');\n      const y = _window[krpanoId].get('mouse.clicky');\n      const location = _window[krpanoId].screentosphere(x, y);\n      const commentSceneTemporary = {\n        id: generateRandomID(),\n        ath: location.x,\n        atv: location.y,\n        message: '',\n        scene: scene?.id || '',\n        scene_id: scene?.id || '',\n      };\n      setCommentSceneTemporary(commentSceneTemporary);\n      setIsShowDialogCreateCommentScene(true);\n    }, [\n      scene,\n      krpanoId,\n      setCommentSceneTemporary,\n      setIsShowDialogCreateCommentScene,\n    ]);\n\n    /**\n     * !SECTION: END_LISTEN_EVENT\n     */\n\n    /**\n     * SECTION: CROSS_FUNCTION\n     */\n    useImperativeHandle(\n      ref,\n      () => ({\n        getContainer() {\n          return containerRef.current;\n        },\n        // ! VIEW KRPANO\n        viewPlanet() {\n          _window[krpanoId].call('cm_littleplanet_view');\n        },\n        viewNormal() {\n          _window[krpanoId].call('cm_normal_view');\n        },\n        viewMirrorBall() {\n          _window[krpanoId].call('mirror_ball_view');\n        },\n        viewFullscreen() {\n          toogleFullScreen();\n          // _window[krpanoId].call('switch(fullscreen)');\n          // _window[krpanoId].call(\n          //   'tween(layer[fullscreen_exitbutton].alpha, 1)',\n          // );\n        },\n        viewWebvr() {\n          _window[krpanoId].call('webvr.enterVR()');\n        },\n        toggleGyro() {\n          _window[krpanoId].call('toggleGyroscope()');\n        },\n        startAutoRotate({ speed = 10, wait_time = 20 }) {\n          _window[krpanoId].call(`startrotation(${speed}, ${wait_time})`);\n        },\n        stopAutoRotate() {\n          _window[krpanoId].call('stoprotation');\n        },\n        toLeft() {\n          _window[krpanoId].call('set(hlookat_moveforce,-0.75)');\n        },\n        toRight() {\n          _window[krpanoId].call('set(hlookat_moveforce,+0.75)');\n        },\n        stopToHorizontal() {\n          _window[krpanoId].call('set(hlookat_moveforce,0)');\n        },\n        toUp() {\n          _window[krpanoId].call('set(vlookat_moveforce,-0.75)');\n        },\n        toDown() {\n          _window[krpanoId].call('set(vlookat_moveforce,+0.75)');\n        },\n        stopToVertical() {\n          _window[krpanoId].call('set(vlookat_moveforce,0)');\n        },\n        removeAllChevronHotspot(hotspots: I_Hotspot[]) {\n          hotspots\n            .filter(item => item.type === 'chevron')\n            .forEach(item => {\n              const name = `hotspot-${item.id}-${krpanoId}-type${item.type}-${\n                item.polygon ? 'ispolygon' : 'unpolygon'\n              }`;\n              _window[krpanoId].call(`removenavigationelements(${name})`);\n            });\n        },\n        triggerSound() {\n          setIsAllowTriggerSound(true);\n        },\n        destroySound() {\n          if (_window[krpanoId]) _window[krpanoId].call(`destroy_sound()`);\n        },\n        muteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, true)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, true);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                ?.get(hotspot.id)\n                ?.onToggleMute(true);\n          });\n        },\n        unmuteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, false)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, false);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                ?.get(hotspot.id)\n                ?.onToggleMute(false);\n          });\n        },\n        get(key: string) {\n          return _window[krpanoId].get(key);\n        },\n        set(key: string, value: string) {\n          _window[krpanoId].set(key, value);\n        },\n        call(xml: string) {\n          _window[krpanoId].call(xml);\n        },\n        onAddCommentScene(commentScene: I_CommentScene) {\n          onAddCommentSceneKrpano(commentScene);\n        },\n        onRemoveCommentScene(id: string) {\n          onRemoveCommentSceneKrpano(id);\n        },\n        onReplaceCommentScene(commentScene: I_CommentScene) {\n          onReplaceCommentSceneKrpano(commentScene);\n        },\n        focusOnCommentScene(commentScene, func) {\n          const call = `lookat(${commentScene.ath}, ${\n            commentScene.atv\n          }, null, null, true, true, ${func()})`;\n          _window[krpanoId].call(call);\n        },\n        loadXml(xml: string) {\n          _window[krpanoId].call(`load_menu_vr(${xml})`);\n        },\n      }),\n      [\n        krpanoId,\n        onAddCommentSceneKrpano,\n        onRemoveCommentSceneKrpano,\n        onReplaceCommentSceneKrpano,\n      ],\n    );\n\n    /**\n     * SECTION: INIT_KRPANO\n     */\n    useEffect(() => {\n      if (!krpanoView && krpanoId) setKrpanoView(KRPANO(krpanoId));\n    }, [krpanoView, krpanoId]);\n\n    useEffect(() => {\n      if (krpanoView)\n        krpanoView.init(\n          divId,\n          `${process.env.NEXT_PUBLIC_ASSETS_URL}/core/tour.xml`,\n          {\n            mypath: process.env.NEXT_PUBLIC_ASSETS_URL,\n            watermarkEnabled: !configScreenshotCapture?.isOffWatermark,\n            watermarkURL:\n              configScreenshotCapture?.watermarkURL ||\n              isValidHttpUrl(tenant?.logo?.src || '')\n                ? tenant?.logo?.src\n                : '',\n          },\n        );\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, divId]);\n\n    useEffect(() => {\n      if (krpanoView && urlTour) {\n        setIsLoaded(false);\n        isLoadedRef.current = false;\n        if (scene) loadSceneToView(scene);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [scene?._id, krpanoView]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView) {\n        _window[krpanoId].set(\n          'events.webvr_onexitvr',\n          onReloadAllHotspots.bind(\n            this,\n            scene?.hotspots.filter(item => !item.polygon) || [],\n            false,\n          ),\n        );\n        _window[krpanoId].set(\n          'events.reset_view_action',\n          onReloadAllHotspots.bind(this, scene?.hotspots, false),\n        );\n        _window[krpanoId].addEventListener('onloadcomplete', onLoadComplete);\n        _window[krpanoId].addEventListener('onviewchange', onChangeView);\n        _window[krpanoId].addEventListener('onmousewheel', onChangeZoom);\n        _window[krpanoId].addEventListener(\n          'ondoubleclick',\n          onTriggerCreateCommentSceneKrpano,\n        );\n      }\n      return () => {\n        if (_window[krpanoId]) {\n          _window[krpanoId].removeEventListener(\n            'onloadcomplete',\n            onLoadComplete,\n          );\n          _window[krpanoId].removeEventListener('onviewchange', onChangeView);\n          _window[krpanoId].removeEventListener('onmousewheel', onChangeZoom);\n          _window[krpanoId].removeEventListener(\n            'ondoubleclick',\n            onTriggerCreateCommentSceneKrpano,\n          );\n          setIsAllowTriggerSound(false);\n          listCommentSceneIconRef.current = new Map([]);\n          listHotspotMediaVideoRef.current = new Map([]);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene._id]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView)\n        _window[krpanoId].addEventListener('onnewpanovr', onLoadNewSceneVR);\n      return () => {\n        if (_window[krpanoId])\n          _window[krpanoId].removeEventListener(\n            'onnewpanovr',\n            onLoadNewSceneVR,\n          );\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene, isFirstScene]);\n\n    /**\n     * NOTE: trigger play_sound_at_hotspot (only when hotspot loaded)\n     */\n    useEffect(() => {\n      if (isLoaded && isAllowTriggerSound)\n        scene?.hotspots?.forEach(hotspot => {\n          if (\n            (hotspot.type === 'sound' &&\n              hotspot.config?.sound !== undefined &&\n              hotspot.config?.sound?.auto_play) ||\n            (hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media &&\n              !hotspot.config?.instructor?.paused_on_start)\n          ) {\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          } else if (\n            hotspot.type === 'media' &&\n            hotspot.config?.media?.type === 'media-video' &&\n            hotspot?.config?.media?.volume &&\n            listHotspotMediaVideoRef.current.get(hotspot.id)\n          )\n            listHotspotMediaVideoRef.current\n              ?.get(hotspot.id)\n              ?.onToggleMute(false);\n        });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isLoaded, isAllowTriggerSound]);\n\n    // NOTE: update hotspot's title multiLang\n    useEffect(() => {\n      if (languageProject && isLoaded && isLoadedRef.current)\n        onReloadAllHotspots(scene?.hotspots || [], true);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [languageProject]);\n\n    return (\n      <div\n        id={divId}\n        ref={containerRef}\n        style={{\n          ...{\n            width: '100%',\n            height: '250px',\n          },\n          ...styleContainer,\n        }}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nexport default memo(KrpanoViewer);\n","import { memo, useCallback, useEffect, useMemo, useRef } from 'react';\nimport dynamic from 'next/dynamic';\nimport BeforeAfterSlider from '@components/BeforeAfterSlider';\nimport KrpanoViewer from '@components/Krpano/KrpanoViewer';\nimport { ID_KRPANO_CONTAINER } from '../../constants';\nimport { useSelector } from 'react-redux';\nimport {\n  selectConfigNadir,\n  selectConfigFollowModeProject,\n  selectSceneSelected,\n  selectListScene,\n  selectConfigSoundProject,\n  selectPrevSceneSelected,\n} from '@containers/Home/selectors';\nimport { I_Scene } from '@containers/Home/types/I_Scene';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport {\n  useCollaborationMode,\n  useTourEventState,\n} from '@containers/Home/global/TourStats';\nimport { useKrpano } from '@containers/Home/hook/useKrpano';\n\nconst MultipleStagingThumb = dynamic(\n  () => import('@containers/Home/components/MultipleStagingThumb'),\n);\n\ninterface Props {\n  onChangeScene: (scene: I_Scene) => void;\n  krpanoRefState: Type_RefFuncKrpano | null;\n  setIsTourRendered: (isLoaded: boolean) => void;\n  setKrpanoRefState: (krpanoRef: Type_RefFuncKrpano | null) => void;\n}\n\nexport const TourRenderSceneKrpano = memo(\n  ({\n    onChangeScene,\n    krpanoRefState,\n    setKrpanoRefState,\n    setIsTourRendered,\n  }: Props) => {\n    const krpanoRef = useRef<Type_RefFuncKrpano | null>(null!);\n\n    const listScene = useSelector(selectListScene);\n    const nadirConfig = useSelector(selectConfigNadir);\n    const sceneSelected = useSelector(selectSceneSelected);\n    const configSound = useSelector(selectConfigSoundProject);\n    const prevSceneSelected = useSelector(selectPrevSceneSelected);\n    const configFollowMode = useSelector(selectConfigFollowModeProject);\n\n    const [, setKrpanoInstance] = useCollaborationMode('krpanoRef');\n    const [tourEventStats, setTourEventState] = useTourEventState('state');\n\n    const {\n      dollhouseXml,\n      //\n      onClickHotspot,\n      onStopHotspotSound,\n      onStartHotspotSound,\n      onChangeAutoChangeScene,\n      onRemoveAllChevronHotspot,\n      onToggleModeMultipleStaging,\n      // onGenerateXMLMenuThumbnailOnVR,\n    } = useKrpano({ krpanoRef: krpanoRefState });\n\n    const urlTour = useMemo(\n      () =>\n        sceneSelected?.media?.src_preview ||\n        sceneSelected?.media?.src_thumb ||\n        sceneSelected?.media?.src,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [sceneSelected?.id],\n    );\n\n    const isShowMultipleStagingThumb = useMemo(\n      () =>\n        sceneSelected?.mode === 'staging' &&\n        sceneSelected?.staging?.length &&\n        sceneSelected?.staging.filter(item => item.media).length &&\n        !sceneSelected?.configStaging?.modeDisplay,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [sceneSelected?.id],\n    );\n\n    const sceneChildsMultipleStaging = useMemo(\n      () =>\n        (\n          (sceneSelected?.mode === 'staging' &&\n          !!sceneSelected?.configStaging?.modeDisplay\n            ? sceneSelected?.staging\n            : []) || []\n        )\n          .filter(item => item.media)\n          .map(item => ({\n            ...item,\n            urlTour:\n              item?.media?.src_preview ||\n              item?.media?.src_thumb ||\n              item?.media?.src,\n            config: sceneSelected?.config,\n            configPlugin: sceneSelected?.configPlugin,\n          })) as (I_Scene & { urlTour: string })[],\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [sceneSelected?.id],\n    );\n\n    const onChangeSceneById = useCallback(\n      id => {\n        const nextscene = listScene.find(scene => scene.id === id);\n        if (nextscene) onChangeScene(nextscene);\n      },\n      [listScene, onChangeScene],\n    );\n\n    /**\n     * NOTE: destroy sound prevScene when change scene\n     */\n    useEffect(() => {\n      if (prevSceneSelected) {\n        onStopHotspotSound();\n        onRemoveAllChevronHotspot(prevSceneSelected.hotspots);\n        onToggleModeMultipleStaging(false);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [prevSceneSelected]);\n\n    /**\n     * NOTE: auto play sound when change scene (only when allow sound autoplay)\n     */\n    useEffect(() => {\n      if (configSound.on && sceneSelected) onStartHotspotSound();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [sceneSelected?._id, configSound]);\n\n    // useEffect(() => {\n    //   if (\n    //     !isLoadedVRMenuRef.current &&\n    //     krpanoRefState &&\n    //     tourEventStats?.isLoaded\n    //   ) {\n    //     const xml = onGenerateXMLMenuThumbnailOnVR();\n    //     krpanoRefState.loadXml(xml);\n    //     krpanoRefState.call(\n    //       `hide_selected_scene_from_menu_vr(${sceneSelected?.id})`,\n    //     );\n    //     isLoadedVRMenuRef.current = true;\n    //   }\n    //   // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, [tourEventStats?.isLoaded, krpanoRefState]);\n\n    // useEffect(() => {\n    //   if (sceneSelected && isLoadedVRMenuRef.current)\n    //     krpanoRefState?.call(\n    //       `hide_selected_scene_from_menu_vr(${sceneSelected.id})`,\n    //     );\n    //   // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, [sceneSelected?._id]);\n\n    return (\n      <>\n        <BeforeAfterSlider\n          mode={sceneSelected?.configStaging?.modeDisplay ?? ''}\n          scenes={\n            tourEventStats?.isActiveModeMultipleStaging\n              ? sceneChildsMultipleStaging\n              : []\n          }\n          nadirConfig={nadirConfig || undefined}\n          firstPane={\n            <KrpanoViewer\n              ref={node => {\n                if (!krpanoRef.current) {\n                  krpanoRef.current = node;\n                  setKrpanoRefState(krpanoRef.current);\n                  setIsTourRendered(true);\n                }\n              }}\n              nadirConfig={nadirConfig || undefined}\n              isLoaded={tourEventStats?.isLoaded}\n              listScene={listScene}\n              urlTour={urlTour || ''}\n              dollhouseXml={dollhouseXml}\n              setIsLoaded={isLoaded => {\n                setTourEventState(prev => ({ ...prev, isLoaded }));\n                if (isLoaded) setKrpanoInstance(krpanoRefState);\n                else if (!isLoaded) setKrpanoInstance(null);\n              }}\n              krpanoId={ID_KRPANO_CONTAINER}\n              onClickHotspot={onClickHotspot}\n              divId=\"krpanoContainerSnapshot\"\n              scene={sceneSelected || undefined}\n              styleContainer={{\n                height: '100%',\n                width:\n                  sceneSelected?.configStaging?.modeDisplay === 'split'\n                    ? '100%'\n                    : '100vw',\n              }}\n              onChangeAutoChangeScene={onChangeAutoChangeScene}\n              isTurnOffFollowMode={\n                !!sceneChildsMultipleStaging.length || !configFollowMode.enable\n              }\n              onChangeScene={onChangeSceneById}\n            />\n          }\n        />\n        {isShowMultipleStagingThumb && (\n          <MultipleStagingThumb\n            scenes={\n              sceneSelected?.staging?.map(item => ({\n                ...item,\n                config: sceneSelected?.config,\n              })) || []\n            }\n            callKrpano={krpanoRef.current?.call}\n          />\n        )}\n      </>\n    );\n  },\n);\n","import styled from 'styled-components';\n\nexport const TourRenderSceneFlat360Wrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.04);\n  user-select: none;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .--image-container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.1s ease-in-out;\n    .--image {\n      max-width: 100%;\n      max-height: 100%;\n      object-fit: contain;\n      pointer-events: none;\n    }\n  }\n  .--navigation-button {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    background-color: rgba(50, 50, 50, 0.6);\n    color: white;\n    border: none;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    font-size: 16px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 10;\n    transition: opacity 0.3s ease-in-out;\n    opacity: 0.7;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n    &:hover {\n      background-color: rgba(50, 50, 50, 0.8);\n      opacity: 1;\n    }\n    &:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n      background-color: rgba(50, 50, 50, 0.4);\n    }\n    &.--navigation-button-left {\n      left: 15px;\n    }\n    &.--navigation-button-right {\n      right: 15px;\n    }\n  }\n`;\n","import dynamic from 'next/dynamic';\nimport { memo, useEffect, useCallback, useMemo, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectSceneSelected } from '@containers/Home/selectors';\nimport { TourRenderSceneFlat360Wrapper } from './styled';\nimport LoadingContainer from '@components/LoadingContainer';\n\nconst Action = dynamic(() => import('./Action'), { ssr: false });\n\nexport interface I_ViewerState {\n  zoomLevel: number;\n  imagesLoaded: number;\n  currentFrame: number;\n  minZoomLevel: number;\n  maxZoomLevel: number;\n  isLoading: boolean;\n  isDragging: boolean;\n  isAnimating: boolean;\n}\n\ninterface Props {\n  setIsTourRendered: (isLoaded: boolean) => void;\n}\n\nexport const TourRenderSceneFlat360 = memo(({ setIsTourRendered }: Props) => {\n  const lastXRef = useRef(0);\n  const startYRef = useRef(0);\n  const viewerRef = useRef<HTMLDivElement>(null!);\n  const autorotateIntervalRef = useRef(null);\n\n  const keyboardControls = true;\n  const highResZoomThreshold = 2.5;\n  const reverseDirection = false;\n\n  const scene = useSelector(selectSceneSelected);\n\n  // Group related state\n  const [viewerState, setViewerState] = useState<I_ViewerState>({\n    zoomLevel: 1,\n    imagesLoaded: 0,\n    currentFrame: 1,\n    minZoomLevel: 1,\n    maxZoomLevel: 5,\n    isLoading: true,\n    isDragging: false,\n    isAnimating: false,\n  });\n  const [images, setImages] = useState<HTMLImageElement[]>([]);\n  const [highResImages, setHighResImages] = useState<HTMLImageElement[]>([]);\n\n  const totalFrames = Number(scene?.object360?.totalImages) ?? 1;\n  const loadingProgress = useMemo(\n    () => Math.round((viewerState.imagesLoaded / totalFrames) * 100),\n    [viewerState.imagesLoaded, totalFrames],\n  );\n  const useHighRes = useMemo(\n    () =>\n      scene?.object360?.lvl &&\n      viewerState.zoomLevel > highResZoomThreshold &&\n      highResImages[viewerState.currentFrame],\n    [\n      highResImages,\n      scene?.object360?.lvl,\n      viewerState.zoomLevel,\n      viewerState.currentFrame,\n    ],\n  );\n  const currentImageSrc = useMemo(\n    () =>\n      useHighRes\n        ? highResImages[viewerState.currentFrame - 1]?.src ||\n          images[viewerState.currentFrame - 1]?.src\n        : images[viewerState.currentFrame - 1]?.src,\n    [useHighRes, highResImages, viewerState.currentFrame, images],\n  );\n\n  const onZooming = useCallback(\n    e => {\n      e.preventDefault();\n      const delta = e.deltaY * -0.01;\n      const zoomLevel = Math.max(\n        viewerState.minZoomLevel,\n        Math.min(viewerState.maxZoomLevel, viewerState.zoomLevel + delta),\n      );\n      setViewerState(prev => ({\n        ...prev,\n        zoomLevel,\n      }));\n    },\n    [viewerState.minZoomLevel, viewerState.maxZoomLevel, viewerState.zoomLevel],\n  );\n\n  const startDragging = useCallback(\n    e => {\n      if (viewerState.isLoading || viewerState.isAnimating) return;\n      if (autorotateIntervalRef.current)\n        clearInterval(autorotateIntervalRef.current);\n      setViewerState(prev => ({ ...prev, isDragging: true }));\n      startYRef.current = e.clientY;\n      lastXRef.current = e.clientX;\n    },\n    [viewerState.isLoading, viewerState.isAnimating],\n  );\n\n  const onDragging = useCallback(\n    e => {\n      if (\n        !viewerState.isDragging ||\n        viewerState.isLoading ||\n        viewerState.isAnimating\n      )\n        return;\n\n      const currentX = e.clientX;\n      const currentY = e.clientY;\n      const diffX = currentX - lastXRef.current;\n      const diffY = currentY - startYRef.current;\n      lastXRef.current = currentX;\n\n      if (diffX !== 0 || diffY !== 0) {\n        const frameStep = Math.floor(Math.abs(diffX) / 5) || 1;\n        const directionX = (diffX < 0 ? 1 : -1) * (reverseDirection ? -1 : 1);\n        // const directionY = (diffY < 0 ? 1 : -1) * (reverseDirection ? -1 : 1);\n\n        setViewerState(prev => {\n          let newFrame = prev.currentFrame + directionX * frameStep;\n          while (newFrame > totalFrames) newFrame -= totalFrames;\n          while (newFrame < 1) newFrame += totalFrames;\n          return { ...prev, currentFrame: newFrame };\n        });\n      }\n    },\n    [\n      totalFrames,\n      reverseDirection,\n      viewerState.isLoading,\n      viewerState.isDragging,\n      viewerState.isAnimating,\n    ],\n  );\n\n  const endDragging = useCallback(() => {\n    setViewerState(prev => ({ ...prev, isDragging: false }));\n  }, []);\n\n  // Preload all images (standard resolution only)\n  useEffect(() => {\n    setViewerState(prev => ({\n      ...prev,\n      ...scene?.object360,\n      isLoading: true,\n      imagesLoaded: 0,\n    }));\n    const imageObjects: HTMLImageElement[] = [];\n    const highResImageObjects: HTMLImageElement[] = [];\n    let loadedCount = 0;\n\n    const loadImage = (frameNumber, isHighRes = false) => {\n      const img = new Image();\n      const formattedFrame = frameNumber\n        .toString()\n        .padStart(scene?.object360?.padLength || 5, '0');\n      img.src = `${process.env.NEXT_PUBLIC_AWS_URL}/${\n        scene?.object360?.lvl && scene?.object360?.lvl.length\n          ? isHighRes && scene?.object360?.lvl.length > 1\n            ? scene?.object360?.lvl[1]\n            : scene?.object360?.lvl[0]\n          : scene?.object360?.imagePath\n      }${scene?.object360?.imagePrefix}${formattedFrame}.${scene?.object360\n        ?.imageExt}`;\n\n      img.onload = () => {\n        if (!isHighRes) {\n          loadedCount++;\n          setViewerState(prev => ({ ...prev, imagesLoaded: loadedCount }));\n        }\n        if (loadedCount === totalFrames) {\n          setViewerState(prev => ({ ...prev, isLoading: false }));\n          setIsTourRendered(true);\n        }\n      };\n\n      img.onerror = err => {\n        console.error(`Failed to load image ${img.src}:`, err);\n      };\n\n      return img;\n    };\n\n    for (let i = 1; i <= totalFrames; i++) {\n      imageObjects.push(loadImage(i));\n      highResImageObjects.push(loadImage(i, true));\n    }\n\n    setImages(imageObjects);\n    setHighResImages(highResImageObjects);\n\n    return () => {\n      imageObjects.forEach(img => {\n        img.onload = null;\n        img.onerror = null;\n      });\n      highResImageObjects.forEach(img => {\n        img.onload = null;\n        img.onerror = null;\n      });\n      setImages([]);\n      setHighResImages([]);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scene?.id]);\n\n  // Keyboard controls\n  useEffect(() => {\n    if (\n      !keyboardControls ||\n      viewerState.isAnimating\n      // || hotspotState.isHotspotEditMode || hotspotState.selectedHotspot\n    )\n      return;\n\n    const handleKeyDown = e => {\n      const direction = reverseDirection ? -1 : 1;\n      switch (e.key) {\n        case 'ArrowLeft':\n          setViewerState(prev => {\n            return {\n              ...prev,\n              currentFrame:\n                (prev.currentFrame - direction) % totalFrames || totalFrames,\n            };\n          });\n          break;\n        case 'ArrowRight':\n          setViewerState(prev => {\n            return {\n              ...prev,\n              currentFrame:\n                (prev.currentFrame + direction) % totalFrames || totalFrames,\n            };\n          });\n          break;\n        case 'ArrowUp':\n          setViewerState(prev => ({\n            ...prev,\n            zoomLevel: Math.min(prev.maxZoomLevel, prev.zoomLevel + 0.1),\n          }));\n          break;\n        case 'ArrowDown':\n          setViewerState(prev => ({\n            ...prev,\n            zoomLevel: Math.max(prev.minZoomLevel, prev.zoomLevel - 0.1),\n          }));\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keyboardControls, viewerState.isAnimating]);\n\n  useEffect(() => {\n    const container = viewerRef.current;\n    if (container)\n      container.addEventListener('wheel', onZooming, { passive: false });\n    return () => {\n      if (container) container.removeEventListener('wheel', onZooming);\n    };\n  }, [onZooming]);\n\n  return (\n    <LoadingContainer\n      loading={viewerState.isLoading}\n      description={`Loading... ${loadingProgress}%`}\n    >\n      <TourRenderSceneFlat360Wrapper\n        ref={viewerRef}\n        onMouseDown={startDragging}\n        onMouseMove={onDragging}\n        onMouseUp={endDragging}\n        onMouseLeave={endDragging}\n        style={{ cursor: viewerState.isDragging ? 'grabbing' : 'grab' }}\n      >\n        {currentImageSrc && (\n          <div\n            className=\"--image-container\"\n            style={{\n              transform: `scale(${viewerState.zoomLevel})`,\n            }}\n          >\n            <img\n              src={currentImageSrc}\n              alt={`Frame ${viewerState.currentFrame}`}\n              className=\"--image\"\n              draggable={false}\n            />\n          </div>\n        )}\n        <Action\n          scene={scene}\n          viewerState={viewerState}\n          setViewerState={setViewerState}\n          totalFrames={totalFrames}\n        />\n      </TourRenderSceneFlat360Wrapper>\n    </LoadingContainer>\n  );\n});\n","import dynamic from 'next/dynamic';\nimport React, { memo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport {\n  selectSceneSelected,\n  selectIsMatterportProject,\n} from '@containers/Home/selectors';\nimport { useKrpano } from '@containers/Home/hook/useKrpano';\nimport { TourWrapper } from './styled';\nimport { I_Scene } from '../types';\nimport { TourRenderSceneKrpano } from './Tour.RenderSceneKrpano';\nimport { TourRenderSceneFlat360 } from './Tour.RenderSceneFlat360';\n\nconst Map = dynamic(() => import('@containers/Home/components/Map'));\nconst TourSound = dynamic(\n  () => import('@containers/Home/components/Tour.Sound'),\n);\nconst TourEvent = dynamic(\n  () => import('@containers/Home/components/Tour.Event'),\n);\nconst Floorplan = dynamic(\n  () => import('@containers/Home/components/Floorplan'),\n);\nconst ActionHotspot = dynamic(\n  () => import('@containers/Home/components/ActionHotspot'),\n);\n\nconst MatterportContainer = dynamic(\n  () => import('@containers/Home/components/MatterportContainer'),\n  { ssr: false },\n);\n\nexport type PropChildrenComponents = {\n  krpanoRef: Type_RefFuncKrpano | null;\n};\n\nexport interface I_Tour {\n  onNextScene: () => void;\n  children?: (props: PropChildrenComponents) => React.ReactNode;\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nconst Tour = ({ onChangeScene, onNextScene, children }: I_Tour) => {\n  const sceneSelected = useSelector(selectSceneSelected);\n  const isMatterportProject = useSelector(selectIsMatterportProject);\n\n  const [isTourRendered, setIsTourRendered] = useState(false);\n  const [krpanoRefState, setKrpanoRefState] =\n    useState<Type_RefFuncKrpano | null>(null!);\n  const { isShowIconMap, isShowIconFloorplan } = useKrpano({\n    krpanoRef: null,\n  });\n\n  return (\n    <TourWrapper>\n      {isMatterportProject ? (\n        <MatterportContainer />\n      ) : sceneSelected?.object360?.imagePrefix ? (\n        <TourRenderSceneFlat360 setIsTourRendered={setIsTourRendered} />\n      ) : (\n        <TourRenderSceneKrpano\n          onChangeScene={onChangeScene}\n          setIsTourRendered={setIsTourRendered}\n          krpanoRefState={krpanoRefState}\n          setKrpanoRefState={setKrpanoRefState}\n        />\n      )}\n\n      {isTourRendered && (\n        <>\n          {children &&\n            children({\n              krpanoRef: krpanoRefState,\n            })}\n\n          {krpanoRefState && <TourSound krpanoRef={krpanoRefState} />}\n\n          {krpanoRefState && (\n            <TourEvent krpanoRef={krpanoRefState} onNextScene={onNextScene} />\n          )}\n\n          <ActionHotspot />\n        </>\n      )}\n\n      {isShowIconMap && <Map onChangeScene={onChangeScene} />}\n      {isShowIconFloorplan && <Floorplan onChangeScene={onChangeScene} />}\n    </TourWrapper>\n  );\n};\n\nexport default memo(Tour);\n","import styled from 'styled-components';\n\nexport const TourSettingWrapper = styled.div``;\n\nexport const TourWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`;\n\nexport const MatterportContainerWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  iframe {\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nexport const HotspotCompactInfoWrapper = styled.div`\n  position: absolute;\n  z-index: 21;\n  bottom: 1rem;\n  right: 1rem;\n  opacity: 0;\n  transform: translateX(1rem);\n  transition: var(--transition-smooth);\n  border-radius: 8px;\n  background-color: var(--color-primary);\n  padding: 1rem;\n  width: 350px;\n  height: auto;\n  pointer-events: none;\n  article {\n    * {\n      color: var(--color-text);\n    }\n    p:last-child {\n      margin: 0;\n    }\n\n    figure {\n      width: 100% !important;\n      height: auto !important;\n      img {\n        width: 100% !important;\n        height: auto !important;\n      }\n    }\n  }\n\n  &.active {\n    opacity: 1;\n    transform: none;\n  }\n`;\n"],"names":["pulse","keyframes","dash","pulseCallout","ShapeIconWrapper","styled","div","withConfig","FlexRowCenter","props","isRenderShape","css","bgColor","iconColor","ImageIconWrapper","img","LottieIconWrapper","MarkerIconWrapper","color","DefaultIconWrapper","COLOR_HOTSPOT_BG_DEFAULT","COLOR_HOTSPOT_ICON_DEFAULT","HotspotWrapper","isHidden","type","size","concat","opacity","rotate","height","HotspotMediaWrapper","width","transform","backgroundColor","displayType","CalloutIconWrapper","degrees","HotspotCompactWrapper","MODE_CURSOR","BeforeAfterSliderWrapper","BeforeAfterSlider","param","onMouseUpHandler","withResizeFeel","scenes","_param_scenes","firstPane","onVisible","classNames","nadirConfig","delimiterColor","_param_mode","mode","refContainer","useRef","stateTemporary","useState","containerWidth","setContainerWidth","panesPosition","setPanesPosition","sliderMode","setSliderMode","top","left","containerPosition","setContainerPosition","firstPanePosition","useMemo","_this","reduce","a","b","observer","window","IntersectionObserver","entries","forEach","entry","intersectionRatio","disconnect","threshold","useEffect","observe","current","positions","widthAverage","Number","length","index","push","updateContainerWidth","offsetWidth","document","addEventListener","removeEventListener","delimiterIconStyles","delimiterPositionStyle","right","updateContainerPosition","containerCoords","getBoundingClientRect","pageYOffset","pageXOffset","onMouseDownHandler","item","itemActive","onMoveHandler","e","newPosition","X","pageX","prev","map","idx","newItem","el","totalWidthCurrentAndNextItem","totalWidthItemsLtCurrent","filter","_item","i","currentWidthOld","currentWidthNew","isUpdateNextItem","_param_withResizeFeel","jsx_runtime","jsx","ref","className","onMouseMove","preventDefault","onTouchMove","touches","Boolean","jsxs","Fragment","style","zIndex","overflow","position","KrpanoBasic","urlTour","scene","undefined","krpanoId","divId","styleContainer","onMouseDown","onTouchStart","id","PopoverCommentScene","dynamic","Promise","all","__webpack_require__","then","bind","SvgContainer","CommentSceneIcon","forwardRef","commentScene","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","isShow","setIsShow","krpanoInstance","useCollaborationMode","commentSceneSelected","setCommentSelected","loading","onClosePopover","useCallback","_onCreateCommentScene","data","_onUpdateCommentScene","_onDeleteCommentScene","isClosePopover","useImperativeHandle","onClose","Popover","open","content","LoadingContainer","placement","destroyTooltipOnHide","trigger","CommentSceneIconWrapper","isResolved","src","process","name","span","DialogPostWithoutUseRedux","HotspotMedia","hotspot","listPost","isSoundOn","onClickHotspot","videoRef","isVideoPlaying","setIsVideoPlaying","visibleDialogPost","setVisibleDialogPost","postId","config","media","post_id","isVideoLoop","loop","isVideoAutoplay","autoPlay","videoVolume","volume","actionClick","action","content_post","muted","autoplay","err","pause","onOpenDialogPost","onCloseDialogPost","onClick","paused","play","onToggleMute","isMute","video","playsInline","preload","mediaIOS","source","aria-hidden","alt","dangerouslySetInnerHTML","__html","idPost","visible","onCancel","useInternalFunction","_window","setZoomKrpano","useZoomKrpano","setHLookatKrpano","useHLookatKrpano","setVLookatKrpano","useVLookatKrpano","sceneChilds","staging","day2dust","_object_spread_props","_","_object_spread","xml","krpano_xml","src_preview","src_thumb","onTriggerChangeView","call","get","onTriggerChangeZoom","onTriggerLoadCompleted","isTurnOffFollowMode","controlMode","subType","set","default_view","x","y","zoom_lv","onApplyConfigPluginKrpanoForScene","Object","DEFAULT_CONFIG_SCENE_PLUGIN","keyParent","valueParent","keyChild","valueChild","value","configPlugin","onRenderXmlKrpano","isLittlePlanetView","transition","typeTransition","view","fovDefault","isLittlePlanet","zoom_limit","min","max","limit_view","bottom","lensflare","enabled","ath","atv","sun","glare","r_ring","exposure_bias","onTriggerSoundHotspot","isAllowTriggerSound","polygon","sound","file","url","toFixed","reach","auto_play","onAddHotspotNadirKrpano","krpano","scale","isEnabled","link","onBackNormalViewFromLittlePlanetView","setTimeout","timeTransitionLittlePlanet","onAddHotspotVRKrpanoUtils","image","nameTitle","title","onAddHotspotKrpanoUtils","_ref","_ref1","keepHotspotPositionWhenZooming","onConfigHotspotMedia","onConfigHotspotPolygon","polygonHotspotConfigGlobal","polygon_config","fillColor","separateColorAndTransparency","properties","CONFIG_POLYGON_HOTSPOT_DEFAULT","fillColorHover","borderColor","borderColorHover","replace","borderWidth","alpha","points","coordinate","onConfigHotspotInstructor","instructor","paused_on_start","DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT","sound_360","maskColor","mask","smoothing","onAddCommentSceneIconUtils","isCommentSceneTemporary","Hotspot","HotspotCompact","isServer","KrpanoViewer","listScene","_param_listScene","_param_divId","_param_krpanoId","_param_dollhouseXml","dollhouseXml","onChangeAutoChangeScene","isLoaded","setIsLoaded","children","_param_styleContainer","_param_isTurnOffFollowMode","onChangeScene","isLoadedRef","isAllowTriggerSoundRef","containerRef","listCommentSceneIconRef","Map","listCommentSceneIconRootRef","listHotspotMediaVideoRef","tenant","useSelector","selectTenant","isFirstScene","selectIsFirstScene","selectListPostUsedOnTour","languageProject","selectLanguageProject","hotspotConfigGlobal","selectHotspotConfigGlobal","dollhouseConfigGlobal","selectDollhouseConfigGlobal","selectPolygonConfigGlobal","configControlModeProject","selectConfigControlModeProject","configProjectionModeProject","selectConfigProjectionModeProject","configScreenshotCapture","selectConfigScreenshotCapture","krpanoView","setKrpanoView","setIsAllowTriggerSound","useCommentScene","setIsShowDialogCreateCommentScene","setCommentSceneTemporary","loadSceneToView","myscene","bgColorDollhouse","BG_COLOR_DOLLHOUSE_DEFAULT","isShowOnStart","loadScene","configStaging","onAddHotspotVRKrpano","_async_to_generator","galleries","join","resolve","onAddHotspotKrpano","isReloadHotspot","renderHotspot","hs","contentString","node","lockHotspot","innerHTML","renderToString","toString","getElementById","root","createRoot","render","r","languageSelected","newHotspot","point","isTransition","isHideTitleGlobal","hideTitle","isHidePreviewGlobal","hidePreview","isHideTitleOnTopGlobal","hideTitleOnTopHotspot","bgColorDefault","iconColorDefault","onChangePopover","chevron","_state","sent","renderHTMLCommentSceneIcon","isOwnerTour","newData","Math","abs","message","scene_id","unmount","sprite","onAddCommentSceneKrpano","isReloadHTML","onRemoveCommentSceneKrpano","onReplaceCommentSceneKrpano","onReloadAllHotspots","hotspots","isReload","onChangeView","debounce","onChangeZoom","onLoadNewSceneVR","sceneId","onLoadComplete","endsWith","onTriggerCreateCommentSceneKrpano","location","screentosphere","generateRandomID","getContainer","viewPlanet","viewNormal","viewMirrorBall","viewFullscreen","doc","element","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","webkitExitFullscreen","mozCancelFullScreen","body","requestFullscreen","msRequestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","openMessageWithIcon","viewWebvr","toggleGyro","startAutoRotate","speed","_param_wait_time","wait_time","_param_speed","stopAutoRotate","toLeft","toRight","stopToHorizontal","toUp","toDown","stopToVertical","removeAllChevronHotspot","triggerSound","destroySound","muteAllSound","detailScene","unmuteAllSound","key","onAddCommentScene","onRemoveCommentScene","onReplaceCommentScene","focusOnCommentScene","func","loadXml","KRPANO","init","mypath","watermarkEnabled","isOffWatermark","watermarkURL","isValidHttpUrl","logo","_id","Krpano_KrpanoViewer","memo","MultipleStagingThumb","TourRenderSceneKrpano","sceneSelected","krpanoRef","krpanoRefState","setKrpanoRefState","setIsTourRendered","selectListScene","selectConfigNadir","selectSceneSelected","configSound","selectConfigSoundProject","prevSceneSelected","selectPrevSceneSelected","configFollowMode","selectConfigFollowModeProject","setKrpanoInstance","useTourEventState","tourEventStats","setTourEventState","useKrpano","onStopHotspotSound","onStartHotspotSound","onRemoveAllChevronHotspot","onToggleModeMultipleStaging","isShowMultipleStagingThumb","modeDisplay","sceneChildsMultipleStaging","onChangeSceneById","nextscene","find","on","isActiveModeMultipleStaging","ID_KRPANO_CONTAINER","enable","callKrpano","TourRenderSceneFlat360Wrapper","Action","ssr","TourRenderSceneFlat360","lastXRef","startYRef","viewerRef","autorotateIntervalRef","zoomLevel","imagesLoaded","currentFrame","minZoomLevel","maxZoomLevel","isLoading","isDragging","isAnimating","viewerState","setViewerState","images","setImages","highResImages","setHighResImages","totalFrames","object360","totalImages","loadingProgress","round","useHighRes","lvl","currentImageSrc","onZooming","delta","deltaY","startDragging","clearInterval","clientY","clientX","onDragging","currentX","currentY","diffX","diffY","frameStep","floor","directionX","newFrame","endDragging","imageObjects","highResImageObjects","loadedCount","loadImage","frameNumber","isHighRes","Image","formattedFrame","padStart","padLength","imagePath","imagePrefix","imageExt","onload","onerror","handleKeyDown","direction","container","passive","description","onMouseUp","onMouseLeave","cursor","draggable","TourSound","TourEvent","Floorplan","ActionHotspot","MatterportContainer","components_Tour","onNextScene","isMatterportProject","selectIsMatterportProject","isTourRendered","isShowIconMap","isShowIconFloorplan","TourWrapper","TourSettingWrapper","MatterportContainerWrapper","HotspotCompactInfoWrapper"],"sourceRoot":""}